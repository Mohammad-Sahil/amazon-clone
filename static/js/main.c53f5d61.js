/*! For license information please see main.c53f5d61.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(7)),o=u(n(791)),s=n(432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators(),n=t.decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-",""));var a=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==a&&(e=e.substring(0,a)+"."+e.substring(a+1,e.length).replace(new RegExp((0,s.escapeRegExp)(n),"g"),"")),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,s.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,s.charIsNumber)(e[h]));)h-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),s=(t.match(a)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",f=t[u]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",s=i===a?e.length:e.indexOf(o,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),u=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,s.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=o[1].lastIndexOf(u[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,o,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};a(l)||(u=o),t.value=u;var f=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,f,u),u!==o?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,s.fixLeadingZero)(a);var u=this.formatNumString(a),c={formattedValue:u,value:a,floatValue:parseFloat(a)};if(u!==o)return e.persist(),void this.setState({value:u,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,f=s.suffix,h=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,w=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var b="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,b)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<w;)g++;(g!==o||o<k||o>w)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),f=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(u)||null:o.default.createElement("span",l,u);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),s=n(a[1]||"",(i[1]||"").length,r);return o+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,S=60108,E=60114,T=60109,C=60110,N=60112,A=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),O=U("react.suspense_list"),P=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){Ke=!1,We=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},Et={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Qn(t,$n,e,Ee(e)),e=Jn,je)e(t);else{je=!0;try{Re(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=jr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=wn;break;case Ot:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Ki(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ei(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Pi,Qi),n}finally{zi=!1}}}var $i=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Ta=Sa(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,za=!1;function Ba(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Kt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ko(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,Yo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Ar(Er[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Ar(Er[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&zs)&&0===(134217727&Bs)||gu(Rs,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Is(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=b.ReactCurrentDispatcher,Os=b.ReactCurrentOwner,Ps=0,Rs=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=qi()+500}var Qs,Ys=null,$s=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Rs&&(Bs|=t,4===Fs&&gu(e,Ls));var r=Ki();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ei(Pi,Yi)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Eu();for(Rs===e&&Ls===r||(Gs(),Iu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(na(),As.current=a,Ps=i,null!==Ds?r=0:(Rs=null,Ls=0,r=Fs),0!==(Vs&Bs))Iu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,Iu(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Rs&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&Bs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,Iu(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function _u(){Ms=js.current,li(js)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Rs=e,Ds=Hu(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,qs=Bs=zs=0}function Su(e,t){for(;;){var n=Ds;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Eu(){var e=As.current;return As.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Eu();for(Rs===e&&Ls===t||Iu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,As.current=r,null!==Ds)throw Error(o(261));return Rs=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ds=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Ki();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Os.current=null,zr=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(E){if(null===Ys)throw Error(o(330));Vu(Ys,E),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var w=Ys.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Es(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Es(Ys.alternate,Ys);break;case 4:Es(Ys.alternate,Ys);break;case 8:Ss(s,u=Ys);var x=u.alternate;ws(u),null!==x&&ws(x)}Ys=Ys.nextEffect}}catch(E){if(null===Ys)throw Error(o(330));Vu(Ys,E),Ys=Ys.nextEffect}}while(null!==Ys);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!zr,Br=zr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var _=Ys.flags;if(36&_&&ys(k,Ys.alternate,Ys),128&_){w=void 0;var I=Ys.ref;if(null!==I){var S=Ys.stateNode;Ys.tag,w=S,"function"===typeof I?I(w):I.current=w}}Ys=Ys.nextEffect}}catch(E){if(null===Ys)throw Error(o(330));Vu(Ys,E),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(mu(e,qi()),$s)throw $s=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>qi()-Ws?Iu(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case E:return(e=Ku(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case A:return(e=Ku(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Ku(19,n,t,i)).elementType=O,e.lanes=a,e;case j:return Yu(n,i,a,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=j,e.lanes=n,e}function $u(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=wu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Oe,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},540:function(e,t,n){var r,i,a;i=[t,n(233)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},233:function(e,t,n){var r,i,a;i=[t,n(791),n(7)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=d;var r=a(t),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function d(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){d(!0)}}))}catch(y){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function v(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var m=function(e){function t(){var e;u(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return a._handleSwipeStart=a._handleSwipeStart.bind(a),a._handleSwipeMove=a._handleSwipeMove.bind(a),a._handleSwipeEnd=a._handleSwipeEnd.bind(a),a._onMouseDown=a._onMouseDown.bind(a),a._onMouseMove=a._onMouseMove.bind(a),a._onMouseUp=a._onMouseUp.bind(a),a._setSwiperRef=a._setSwiperRef.bind(a),a}return f(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=v(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=v(e),n=t.x,r=t.y,i=n-this.moveStart.x,a=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:a},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:a}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,a=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,s(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,o({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},a),i)}}]),t}(t.Component);m.displayName="ReactSwipe",m.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},m.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=m},void 0===(a="function"===typeof r?r.apply(t,i):r)||(e.exports=a)},988:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(791),a=(r=n(988))&&r.__esModule?r:{default:r},o=n(735);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,s=r,c=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return s<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,o.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,o.setPosition)(100*-(c+2),e.axis):s>c&&(n.itemListStyle=(0,o.setPosition)(0,e.axis)),n;var l=(0,o.getPosition)(r,e),f=(0,a.default)(l,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:f,msTransform:f,OTransform:f,transform:f},t.swiping||(n.itemListStyle=u(u({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var a={},s="horizontal"===t.axis,u=i.Children.count(t.children),c=(0,o.getPosition)(n.selectedItem,t),l=t.infiniteLoop?(0,o.getPosition)(u-1,t)-100:(0,o.getPosition)(u-1,t),f=s?e.x:e.y,h=f;0===c&&f>0&&(h=0),c===l&&f<0&&(h=0);var d=c+100/(n.itemSize/h),p=Math.abs(f)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&d>-100?d-=100*u:n.selectedItem===u-1&&d<100*-u&&(d+=100*u)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),a.itemListStyle=(0,o.setPosition)(d,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),a};t.slideStopSwipingHandler=function(e,t){var n=(0,o.getPosition)(t.selectedItem,e);return{itemListStyle:(0,o.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=u(u({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:u(u({},i),{},{opacity:1,position:"relative"}),prevStyle:u({},i)}}},594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),i=f(n(540)),a=f(n(887)),o=f(n(625)),s=f(n(149)),u=f(n(962)),c=n(735),l=n(80);function f(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(d,e);var t,n,f,h=k(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),_(b(t=h.call(this,e)),"thumbsRef",void 0),_(b(t),"carouselWrapperRef",void 0),_(b(t),"listRef",void 0),_(b(t),"itemsRef",void 0),_(b(t),"timer",void 0),_(b(t),"animationHandler",void 0),_(b(t),"setThumbsRef",(function(e){t.thumbsRef=e})),_(b(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),_(b(t),"setListRef",(function(e){t.listRef=e})),_(b(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),_(b(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),_(b(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),_(b(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),_(b(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),_(b(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),_(b(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,s.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,s.default)().activeElement))})),_(b(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),_(b(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),_(b(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),_(b(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),_(b(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),_(b(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),_(b(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),_(b(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),_(b(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(b(t)));return t.setState(m({},r)),!!Object.keys(r).length})),_(b(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),_(b(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),_(b(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),_(b(t),"onClickNext",(function(){t.increment(1)})),_(b(t),"onClickPrev",(function(){t.decrement(1)})),_(b(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(b(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(b(t),"changeItem",(function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),_(b(t),"selectItem",(function(e){t.setState(m({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),_(b(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),_(b(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var a=(r[0]||n.children[0]).clientHeight;return a>0?a:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&l.fadeAnimationHandler||l.slideAnimationHandler,t.state=m(m({},n),t.animationHandler(e,n)),t}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(m({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,u.default)().addEventListener("resize",this.updateSizes),(0,u.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,u.default)().removeEventListener("resize",this.updateSizes),(0,u.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var o=i===t.state.selectedItem,s=i===t.state.previousItem,u=o&&t.state.selectedStyle||s&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(u=m(m({},u),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(u=m(m({},u),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:a.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:u};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,a=t.renderIndicator,o=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(o,(function(t,n){return a&&a(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(o.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,o=this.props.showArrows&&r.Children.count(this.props.children)>1,s=o&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=o&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),l=c.shift(),f=c.pop(),h={className:a.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},d={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var v=this.getVariableItemHeight(this.state.selectedItem);d.height=v||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=m(m({},h.style),{},{height:this.state.itemSize}),d.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:a.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:a.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,s,this.props.labels.leftArrow),r.default.createElement("div",{className:a.default.WRAPPER(!0,this.props.axis),style:d},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&l):r.default.createElement("ul",{className:a.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&l)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&y(t.prototype,n),f&&y(t,f),d}(r.default.Component);t.default=I,_(I,"displayName","Carousel"),_(I,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:a.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:a.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:l.slideSwipeAnimationHandler,stopSwipingHandler:l.slideStopSwipingHandler})},103:function(){},735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(791),a=(r=n(988))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,a=n-1;return e&&(e!==a||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===a&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,a.default)(e,"%",t)})),n}},625:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(791)),i=c(n(887)),a=n(970),o=c(n(988)),s=c(n(540)),u=c(n(962));function c(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(f,e);var t,n,c,l=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),k(y(t=l.call(this,e)),"itemsWrapperRef",void 0),k(y(t),"itemsListRef",void 0),k(y(t),"thumbsRef",void 0),k(y(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),k(y(t),"setItemsListRef",(function(e){t.itemsListRef=e})),k(y(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),k(y(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,a.outerWidth)(t.thumbsRef[0]),o=Math.floor(n/i),s=o<e,u=s?e-o:0;t.setState((function(e,n){return{itemSize:i,visibleItems:o,firstItem:s?t.getFirstItem(n.selectedItem):0,lastPosition:u,showArrows:s}}))}})),k(y(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),k(y(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),k(y(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),k(y(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),a=-100*t.state.firstItem/t.state.visibleItems;0===a&&n>0&&(n=0),a===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var s=a+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,o.default)(s,"%",t.props.axis)})),!0})),k(y(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),k(y(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),k(y(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=f,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:e.selectedItem,firstItem:this.getFirstItem(e.selectedItem)})}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,u.default)().addEventListener("resize",this.updateSizes),(0,u.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,u.default)().removeEventListener("resize",this.updateSizes),(0,u.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var a=i.default.ITEM(!1,n===e.state.selectedItem),o={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:a,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},o,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,a=this.state.showArrows&&this.state.firstItem>0,u=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),l=(0,o.default)(c,"px",this.props.axis),f=this.props.transitionTime+"ms";return t={WebkitTransform:l,MozTransform:l,MsTransform:l,OTransform:l,transform:l,msTransform:l,WebkitTransitionDuration:f,MozTransitionDuration:f,MsTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!a),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(s.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!u),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&d(t.prototype,n),c&&d(t,c),f}(r.Component);t.default=w,k(w,"displayName","Thumbs"),k(w,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(694))&&r.__esModule?r:{default:r};var a={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=a},970:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},197:function(e,t,n){"use strict";Object.defineProperty(t,"lr",{enumerable:!0,get:function(){return r.default}});var r=o(n(594)),i=n(103),a=o(n(625));function o(e){return e&&e.__esModule?e:{default:e}}},149:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},962:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),u(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],T=[],C=1,N=null,A=3,O=!1,P=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(E,t)}t=_(T)}}function L(e){if(R=!1,D(e),!P)if(null!==_(E))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=A;try{for(D(n),N=_(E);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(E)&&I(E),D(n)}else I(E);N=_(E)}if(null!==N)var u=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(E)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===_(E)&&e===_(T)&&(R?i():R=!0,r(L,o-s))):(e.sortIndex=u,x(E,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},131:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_1.97a49df189d52057a767.jpg"},451:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_2.074f8182fedf7b68bc1d.jpg"},66:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_3.27ee75d2d2ceb1e1b840.jpg"},530:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_4.d98af10ec6ebe7835bc7.jpg"},978:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_5.2938f8b0b66a11bbbb0c.jpg"},619:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_6.04e0236c42c0ae876629.jpg"},610:function(e,t,n){"use strict";e.exports=n.p+"static/media/slide_7.3b1ff73a67c1ec6ffbd6.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".ebd7646a.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="amazon-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/amazon-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkamazon_clone=self.webpackChunkamazon_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ee},SDK_VERSION:function(){return St},_DEFAULT_ENTRY_NAME:function(){return lt},_addComponent:function(){return pt},_addOrOverwriteComponent:function(){return vt},_apps:function(){return ht},_clearComponents:function(){return kt},_components:function(){return dt},_getProvider:function(){return yt},_registerComponent:function(){return mt},_removeServiceInstance:function(){return gt},deleteApp:function(){return Nt},getApp:function(){return Tt},getApps:function(){return Ct},initializeApp:function(){return Et},onLog:function(){return Pt},registerVersion:function(){return Ot},setLogLevel:function(){return Rt}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var h=function(e){return e};function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var k=(0,t.createContext)(null);var w=(0,t.createContext)(null);var b=(0,t.createContext)({outlet:null,matches:[]});function x(e){return function(e){var n=(0,t.useContext)(b).outlet;if(n)return(0,t.createElement)(A.Provider,{value:e},n);return n}(e.context)}function _(e){g(!1)}function I(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?l.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;T()&&g(!1);var d=q(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,b=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,I=v.hash,S=void 0===I?"":I,E=v.state,C=void 0===E?null:E,N=v.key,A=void 0===N?"default":N,O=(0,t.useMemo)((function(){var e=z(b,d);return null==e?null:{pathname:e,search:_,hash:S,state:C,key:A}}),[d,b,_,S,C,A]);return null==O?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(w.Provider,{children:a,value:{location:O,navigationType:u}}))}function S(e){var n=e.children,r=e.location;return function(e,n){T()||g(!1);var r=(0,t.useContext)(b).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=C();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=z(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],r);return a}(e,{pathname:h});0;return F(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),r)}(P(n),r)}function E(e){T()||g(!1);var n=(0,t.useContext)(k),r=n.basename,i=n.navigator,a=O(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):B([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function T(){return null!=(0,t.useContext)(w)}function C(){return T()||g(!1),(0,t.useContext)(w).location}function N(){T()||g(!1);var e=(0,t.useContext)(k),n=e.basename,r=e.navigator,i=(0,t.useContext)(b).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=V(e,JSON.parse(o),a);"/"!==n&&(i.pathname=B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var A=(0,t.createContext)(null);function O(e){var n=(0,t.useContext)(b).matches,r=C().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return V(e,JSON.parse(i),r)}),[e,i,r])}function P(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==_&&g(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=P(e.props.children)),n.push(r)}else n.push.apply(n,P(e.props.children))})),n}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),R(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:s})})),t}var D=/^:\w+$/,L=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(D.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:B([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function F(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(x,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function V(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:K(a),hash:W(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},K=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,h({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:m(e)}function r(e,t){return void 0===t&&(t=null),h(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function i(e){f=e,e=t(),g=e[0],k=e[1],w.call({action:f,location:k})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)b.call(u),u=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],b.length){if(null!=r){var o=g-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var f=l.Pop,g=(e=t())[0],k=e[1],w=p(),b=p();return null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),"")),{get action(){return f},get location(){return k},createHref:n,push:function e(t,a){var u=l.Push,c=r(t,a);if(!b.length||(b.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(Nd){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=l.Replace,u=r(t,a);b.length&&(b.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&o.addEventListener("beforeunload",d),function(){t(),b.length||o.removeEventListener("beforeunload",d)}}}}({window:i}));var o=a.current,s=u((0,t.useState)({action:o.action,location:o.location}),2),f=s[0],g=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(g)}),[o]),(0,t.createElement)(I,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:o})}var $=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,Q),f=E(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=N(),u=C(),c=O(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",H({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},re(e,t)}function ie(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){if(t&&("object"===se(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}function ce(e){var t=oe();return function(){var n,r=ae(e);if(t){var i=ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ue(this,n)}}function le(e,t,n){return le=oe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&re(i,n.prototype),i},le.apply(null,arguments)}function fe(e){var t="function"===typeof Map?new Map:void 0;return fe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return le(e,arguments,ae(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),re(n,e)},fe(e)}var he=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(he(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pe=function(e){return function(e){var t=he(e);return de.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ve=function(e){try{return de.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function me(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=me(e[n],t[n]));return e}var ye=function(){function e(){var t=this;X(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ee(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ge(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(a)),""].join(".")}function ke(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function be(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function xe(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _e(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ie(){var e=ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Se(){return"object"===typeof indexedDB}var Ee=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ne(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ne(a),Te.prototype.create),a}return ee(n)}(fe(Error)),Te=function(){function e(t,n,r){X(this,e),this.service=t,this.serviceName=n,this.errors=r}return ee(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ce(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ee(n,a,t);return o}}]),e}();function Ce(e,t){return e.replace(Ne,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ne=/\{\$([^}]+)}/g;function Ae(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Pe(s)&&Pe(u)){if(!Oe(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Pe(e){return null!==e&&"object"===typeof e}function Re(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function De(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Le(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Me(e,t){var n=new je(e,t);return n.subscribe.bind(n)}var je=function(){function e(t,n){var r=this;X(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ee(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=te(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Fe),void 0===r.error&&(r.error=Fe),void 0===r.complete&&(r.complete=Fe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Fe(){}function Ue(e){return e&&e._delegate?e._delegate:e}function Ve(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ze(e){return function(e){if(Array.isArray(e))return a(e)}(e)||Ve(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Be(a,r,i,o,s,"next",e)}function s(e){Be(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Ke=n(757),We=n.n(Ke),He=function(){function e(t,n,r){X(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ee(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ge="[DEFAULT]",Qe=function(){function e(t,n){X(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ee(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ye;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch(c){}var t,n=te(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=qe(Ke.mark((function e(){var t;return Ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ze(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ze(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=te(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(x_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ge?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(x_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.component?this.component.multipleInstances?e:Ge:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ye,$e,Je=function(){function e(t){X(this,e),this.name=t,this.providers=new Map}return ee(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Qe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Xe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($e||($e={}));var Ze,et,tt={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},nt=$e.INFO,rt=(J(Ye={},$e.DEBUG,"log"),J(Ye,$e.VERBOSE,"log"),J(Ye,$e.INFO,"info"),J(Ye,$e.WARN,"warn"),J(Ye,$e.ERROR,"error"),Ye),it=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},at=function(){function e(t){X(this,e),this.name=t,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,Xe.push(this)}return ee(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in $e))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$e.DEBUG].concat(t)),this._logHandler.apply(this,[this,$e.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$e.VERBOSE].concat(t)),this._logHandler.apply(this,[this,$e.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$e.INFO].concat(t)),this._logHandler.apply(this,[this,$e.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$e.WARN].concat(t)),this._logHandler.apply(this,[this,$e.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$e.ERROR].concat(t)),this._logHandler.apply(this,[this,$e.ERROR].concat(t))}}]),e}();var ot=function(){function e(t){X(this,e),this.container=t}return ee(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var st="@firebase/app",ut="0.7.17",ct=new at("@firebase/app"),lt="[DEFAULT]",ft=(J(Ze={},st,"fire-core"),J(Ze,"@firebase/app-compat","fire-core-compat"),J(Ze,"@firebase/analytics","fire-analytics"),J(Ze,"@firebase/analytics-compat","fire-analytics-compat"),J(Ze,"@firebase/app-check","fire-app-check"),J(Ze,"@firebase/app-check-compat","fire-app-check-compat"),J(Ze,"@firebase/auth","fire-auth"),J(Ze,"@firebase/auth-compat","fire-auth-compat"),J(Ze,"@firebase/database","fire-rtdb"),J(Ze,"@firebase/database-compat","fire-rtdb-compat"),J(Ze,"@firebase/functions","fire-fn"),J(Ze,"@firebase/functions-compat","fire-fn-compat"),J(Ze,"@firebase/installations","fire-iid"),J(Ze,"@firebase/installations-compat","fire-iid-compat"),J(Ze,"@firebase/messaging","fire-fcm"),J(Ze,"@firebase/messaging-compat","fire-fcm-compat"),J(Ze,"@firebase/performance","fire-perf"),J(Ze,"@firebase/performance-compat","fire-perf-compat"),J(Ze,"@firebase/remote-config","fire-rc"),J(Ze,"@firebase/remote-config-compat","fire-rc-compat"),J(Ze,"@firebase/storage","fire-gcs"),J(Ze,"@firebase/storage-compat","fire-gcs-compat"),J(Ze,"@firebase/firestore","fire-fst"),J(Ze,"@firebase/firestore-compat","fire-fst-compat"),J(Ze,"fire-js","fire-js"),J(Ze,"firebase","fire-js-all"),Ze),ht=new Map,dt=new Map;function pt(e,t){try{e.container.addComponent(t)}catch(n){ct.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vt(e,t){e.container.addOrOverwriteComponent(t)}function mt(e){var t=e.name;if(dt.has(t))return ct.debug("There were multiple attempts to register component ".concat(t,".")),!1;dt.set(t,e);var n,r=te(ht.values());try{for(r.s();!(n=r.n()).done;){pt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yt(e,t){return e.container.getProvider(t)}function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lt;yt(e,t).clearInstance(n)}function kt(){dt.clear()}var wt,bt,xt=(J(et={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),J(et,"bad-app-name","Illegal App name: '{$appName}"),J(et,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),J(et,"app-deleted","Firebase App named '{$appName}' already deleted"),J(et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),J(et,"invalid-log-argument","First argument to `onLog` must be null or a function."),et),_t=new Te("app","Firebase",xt),It=function(){function e(t,n,r){var i=this;X(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",(function(){return i}),"PUBLIC"))}return ee(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}]),e}(),St="9.6.7";function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:lt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});var a=ht.get(i);if(a){if(Oe(e,a.options)&&Oe(r,a.config))return a;throw _t.create("duplicate-app",{appName:i})}var o,s=new Je(i),u=te(dt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new It(e,r,s);return ht.set(i,l),l}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=ht.get(e);if(!t)throw _t.create("no-app",{appName:e});return t}function Ct(){return Array.from(ht.values())}function Nt(e){return At.apply(this,arguments)}function At(){return(At=qe(Ke.mark((function e(t){var n;return Ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ht.has(n)){e.next=6;break}return ht.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t,n){var r,i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ct.warn(s.join(" "))}mt(new He("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pt(e,t){if(null!==e&&"function"!==typeof e)throw _t.create("invalid-log-argument");!function(e,t){var n,r=te(Xe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=tt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:$e[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Rt(e){var t;t=e,Xe.forEach((function(e){e.setLogLevel(t)}))}wt="",mt(new He("platform-logger",(function(e){return new ot(e)}),"PRIVATE")),Ot(st,ut,wt),Ot(st,ut,"esm2017"),Ot("fire-js","");var Dt=function(){function e(t,n){var r=this;X(this,e),this._delegate=t,this.firebase=n,pt(t,new He("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ee(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Nt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Lt=(J(bt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),J(bt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),bt),Mt=new Te("app-compat","Firebase",Lt);var jt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Et(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ae(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ot,setLogLevel:Rt,onLog:Pt,apps:null,SDK_VERSION:St,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Mt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&me(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ae(n,e=e||lt))throw Mt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Dt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){me(n,e)},createSubscribe:Me,ErrorFactory:Te,deepExtend:me}),n}(),Ft=new at("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ft.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ut=self.firebase.SDK_VERSION;Ut&&Ut.indexOf("LITE")>=0&&Ft.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Vt=jt;!function(e){Ot("@firebase/app-compat","0.1.18",e)}();function zt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ae(e)););return e}function Bt(){return Bt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=zt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Bt.apply(this,arguments)}Vt.registerVersion("firebase","9.6.7","app-compat");function qt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Kt;Object.create;var Wt="facebook.com",Ht="github.com",Gt="google.com",Qt="password",Yt="twitter.com",$t="EMAIL_SIGNIN",Jt="PASSWORD_RESET",Xt="RECOVER_EMAIL",Zt="REVERT_SECOND_FACTOR_ADDITION",en="VERIFY_AND_CHANGE_EMAIL",tn="VERIFY_EMAIL";function nn(){return J({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var rn=function(){var e;return J(e={},"admin-restricted-operation","This operation is restricted to administrators only."),J(e,"argument-error",""),J(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),J(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),J(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),J(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),J(e,"cordova-not-ready","Cordova framework is not ready."),J(e,"cors-unsupported","This browser is not supported."),J(e,"credential-already-in-use","This credential is already associated with a different user account."),J(e,"custom-token-mismatch","The custom token corresponds to a different audience."),J(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),J(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),J(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),J(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),J(e,"email-already-in-use","The email address is already in use by another account."),J(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),J(e,"expired-action-code","The action code has expired."),J(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),J(e,"internal-error","An internal AuthError has occurred."),J(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),J(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),J(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),J(e,"invalid-auth-event","An internal AuthError has occurred."),J(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),J(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),J(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),J(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),J(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),J(e,"invalid-email","The email address is badly formatted."),J(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),J(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),J(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),J(e,"invalid-credential","The supplied auth credential is malformed or has expired."),J(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),J(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),J(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),J(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),J(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),J(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),J(e,"wrong-password","The password is invalid or the user does not have a password."),J(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),J(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),J(e,"invalid-provider-id","The specified provider ID is invalid."),J(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),J(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),J(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),J(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),J(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),J(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),J(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),J(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),J(e,"missing-continue-uri","A continue URL must be provided in the request."),J(e,"missing-iframe-start","An internal AuthError has occurred."),J(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),J(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),J(e,"missing-multi-factor-info","No second factor identifier is provided."),J(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),J(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),J(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),J(e,"app-deleted","This instance of FirebaseApp has been deleted."),J(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),J(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),J(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),J(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),J(e,"no-auth-event","An internal AuthError has occurred."),J(e,"no-such-provider","User was not linked to an account with the given provider."),J(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),J(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),J(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),J(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),J(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),J(e,"provider-already-linked","User can only be linked to one identity for the given provider."),J(e,"quota-exceeded","The project's quota for this operation has been exceeded."),J(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),J(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),J(e,"rejected-credential","The request contains malformed or mismatching credentials."),J(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),J(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),J(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),J(e,"timeout","The operation has timed out."),J(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),J(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),J(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),J(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),J(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),J(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),J(e,"unverified-email","The operation requires a verified email."),J(e,"user-cancelled","The user did not grant your application the permissions it requested."),J(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),J(e,"user-disabled","The user account has been disabled by an administrator."),J(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),J(e,"user-signed-out",""),J(e,"weak-password","The password must be 6 characters long or more."),J(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),J(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},an=nn,on=new Te("auth","Firebase",nn()),sn=new at("@firebase/auth");function un(e){if(sn.logLevel<=$e.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sn.error.apply(sn,["Auth (".concat(St,"): ").concat(e)].concat(n))}}function cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw dn.apply(void 0,[e].concat(n))}function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dn.apply(void 0,[e].concat(n))}function fn(e,t,n){var r=Object.assign(Object.assign({},an()),J({},t,n));return new Te("auth","Firebase",r).create(t,{appName:e.name})}function hn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&cn(e,"argument-error"),fn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ze(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ze(o)))}return on.create.apply(on,[e].concat(n))}function pn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw dn.apply(void 0,[t].concat(r))}}function vn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw un(t),new Error(t)}function mn(e,t){e||vn(t)}var yn=new Map;function gn(e){mn(e instanceof Function,"Expected a class definition");var t=yn.get(e);return t?(mn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yn.set(e,t),t)}function kn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wn(){return"http:"===bn()||"https:"===bn()}function bn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var xn=function(){function e(t,n){X(this,e),this.shortDelay=t,this.longDelay=n,mn(n>t,"Short delay should be less than long delay!"),this.isMobile=we()||_e()}return ee(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wn()||xe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _n(e,t){mn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var In=function(){function e(){X(this,e)}return ee(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Sn=(J(Kt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),J(Kt,"MISSING_CUSTOM_TOKEN","internal-error"),J(Kt,"INVALID_IDENTIFIER","invalid-email"),J(Kt,"MISSING_CONTINUE_URI","internal-error"),J(Kt,"INVALID_PASSWORD","wrong-password"),J(Kt,"MISSING_PASSWORD","internal-error"),J(Kt,"EMAIL_EXISTS","email-already-in-use"),J(Kt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),J(Kt,"INVALID_IDP_RESPONSE","invalid-credential"),J(Kt,"INVALID_PENDING_TOKEN","invalid-credential"),J(Kt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),J(Kt,"MISSING_REQ_TYPE","internal-error"),J(Kt,"EMAIL_NOT_FOUND","user-not-found"),J(Kt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),J(Kt,"EXPIRED_OOB_CODE","expired-action-code"),J(Kt,"INVALID_OOB_CODE","invalid-action-code"),J(Kt,"MISSING_OOB_CODE","internal-error"),J(Kt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),J(Kt,"INVALID_ID_TOKEN","invalid-user-token"),J(Kt,"TOKEN_EXPIRED","user-token-expired"),J(Kt,"USER_NOT_FOUND","user-token-expired"),J(Kt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),J(Kt,"INVALID_CODE","invalid-verification-code"),J(Kt,"INVALID_SESSION_INFO","invalid-verification-id"),J(Kt,"INVALID_TEMPORARY_PROOF","invalid-credential"),J(Kt,"MISSING_SESSION_INFO","missing-verification-id"),J(Kt,"SESSION_EXPIRED","code-expired"),J(Kt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),J(Kt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),J(Kt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),J(Kt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),J(Kt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),J(Kt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),J(Kt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),J(Kt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),J(Kt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),J(Kt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),J(Kt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Kt),En=new xn(3e4,6e4);function Tn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Cn(e,t,n,r){return Nn.apply(this,arguments)}function Nn(){return Nn=qe(We().mark((function e(t,n,r,i){var a,o=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",An(t,a,qe(We().mark((function e(){var a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Re(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",In.fetch()(Dn(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function An(e,t,n){return On.apply(this,arguments)}function On(){return On=qe(We().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Sn),n),e.prev=2,a=new Ln(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Mn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Mn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Mn(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw fn(t,p,d);case 30:cn(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ee)){e.next=37;break}throw e.t0;case 37:cn(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),On.apply(this,arguments)}function Pn(e,t,n,r){return Rn.apply(this,arguments)}function Rn(){return Rn=qe(We().mark((function e(t,n,r,i){var a,o,s=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Cn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Dn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_n(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ln=function(){function e(t){var n=this;X(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ln(n.auth,"network-request-failed"))}),En.get())}))}return ee(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Mn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ln(e,t,r);return i.customData._tokenResponse=n,i}function jn(e,t){return Fn.apply(this,arguments)}function Fn(){return Fn=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}function Un(e,t){return Vn.apply(this,arguments)}function Vn(){return Vn=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function zn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Bn.apply(this,arguments)}function qn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kn(){return Kn=qe(We().mark((function e(t){var n,r,i,a,o,s,u=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ue(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pn((a=Hn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qn(Wn(a.auth_time)),issuedAtTime:qn(Wn(a.iat)),expirationTime:qn(Wn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Wn(e){return 1e3*Number(e)}function Hn(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return un("JWT malformed, contained fewer than 3 sections"),null;try{var a=ve(r);return a?JSON.parse(a):(un("Failed to decode base64 JWT payload"),null)}catch(o){return un("Caught error parsing JWT payload as JSON",o),null}}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=qe(We().mark((function e(t,n){var r=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ee&&Yn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qn.apply(this,arguments)}function Yn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $n=function(){function e(t){X(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ee(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jn=function(){function e(t,n){X(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ee(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xn(e){return Zn.apply(this,arguments)}function Zn(){return Zn=qe(We().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gn(t,zn(r,{idToken:i}));case 6:pn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?nr(o.providerUserInfo):[],u=tr(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function er(){return(er=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(t),e.next=3,Xn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ze(n),ze(t))}function nr(e){return e.map((function(e){var t=e.providerId,n=qt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function rr(e,t){return ir.apply(this,arguments)}function ir(){return ir=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t,{},qe(We().mark((function e(){var r,i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Re({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Dn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",In.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}var ar=function(){function e(){X(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ee(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pn(e.idToken,"internal-error"),pn("undefined"!==typeof e.idToken,"internal-error"),pn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Hn(e);return pn(t,"internal-error"),pn("undefined"!==typeof t.exp,"internal-error"),pn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=qe(We().mark((function e(t){var n,r=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function or(e,t){pn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var sr=function(){function e(t){X(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ze(a.providerData):[],this.metadata=new Jn(a.createdAt||void 0,a.lastLoginAt||void 0)}return ee(e,[{key:"getIdToken",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return er.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){pn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=qe(We().mark((function e(t){var n,r,i=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gn(this,jn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;pn(k&&_,t,"internal-error");var I=ar.fromJSON(this.name,_);pn("string"===typeof k,t,"internal-error"),or(f,t.name),or(h,t.name),pn("boolean"===typeof w,t,"internal-error"),pn("boolean"===typeof b,t,"internal-error"),or(d,t.name),or(p,t.name),or(v,t.name),or(m,t.name),or(y,t.name),or(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=qe(We().mark((function t(n,r){var i,a,o,s=arguments;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ar).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ur=function(){function e(){X(this,e),this.type="NONE",this.storage={}}return ee(e,[{key:"_isAvailable",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ur.type="NONE";var cr=ur;function lr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var fr=function(){function e(t,n,r){X(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=lr(this.userKey,a.apiKey,o),this.fullPersistenceKey=lr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ee(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?sr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=qe(We().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(gn(cr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||gn(cr),s=lr(i,n.config.apiKey,n.name),u=null,c=te(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=sr._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function hr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gr(t))return"Blackberry";if(kr(t))return"Webos";if(pr(t))return"Safari";if((t.includes("chrome/")||vr(t))&&!t.includes("edge/"))return"Chrome";if(yr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/firefox\//i.test(e)}function pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/crios\//i.test(e)}function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/iemobile/i.test(e)}function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/android/i.test(e)}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/blackberry/i.test(e)}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/webos/i.test(e)}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/iphone|ipad|ipod/i.test(e)}function br(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return wr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function xr(){return Ie()&&10===document.documentMode}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return wr(e)||yr(e)||kr(e)||gr(e)||/windows phone/i.test(e)||mr(e)}function Ir(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hr(ke());break;case"Worker":t="".concat(hr(ke()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(St,"/").concat(r)}var Sr=function(){function e(t,n){X(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tr(this),this.idTokenSubscription=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=on,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return ee(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=gn(t)),this._initializationPromise=this.queue(qe(We().mark((function r(){var i,a;return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,fr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=qe(We().mark((function e(t){var n,r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return pn(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ue(t):null)&&pn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=qe(We().mark((function e(t){var n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&pn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(gn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Te("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pn(n=t&&gn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,fr.create(this,[gn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=qe(We().mark((function e(t){var n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ir(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Er(e){return Ue(e)}var Tr=function(){function e(t){var n=this;X(this,e),this.auth=t,this.observer=null,this.addObserver=Me((function(e){return n.observer=e}))}return ee(e,[{key:"next",get:function(){return pn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Cr(e,t,n){var r=Er(e);pn(r._canInitEmulator,r,"emulator-config-failed"),pn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Nr(t),o=function(e){var t=Nr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ar(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Ar(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Nr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ar(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Or=function(){function e(t,n){X(this,e),this.providerId=t,this.signInMethod=n}return ee(e,[{key:"toJSON",value:function(){return vn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vn("not implemented")}}]),e}();function Pr(e,t){return Rr.apply(this,arguments)}function Rr(){return Rr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:resetPassword",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Dr(e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}function Mr(e,t){return jr.apply(this,arguments)}function jr(){return jr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:update",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPassword",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function Vr(e,t){return zr.apply(this,arguments)}function zr(){return zr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:sendOobCode",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function Br(e,t){return qr.apply(this,arguments)}function qr(){return qr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,n));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Kr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Hr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,n));case 1:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Qr(e,t){return Yr.apply(this,arguments)}function Yr(){return Yr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vr(t,n));case 1:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function $r(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithEmailLink",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Xr(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithEmailLink",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}var ei=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return X(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ee(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$r(t,{email:this._email,oobCode:this._password}));case 5:cn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Dr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Or);function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithIdp",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}var ri=function(e){ie(n,e);var t=ce(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ee(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ti(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ti(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Re(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Or);function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:sendVerificationCode",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(){return oi=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function si(){return si=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Tn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Mn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}var ui=J({},"USER_NOT_FOUND","user-not-found");function ci(){return ci=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithPhoneNumber",Tn(t,r),ui));case 2:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}var li=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ee(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return si.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ci.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Or);var fi=function(){function e(t){var n,r,i,a,o,s;X(this,e);var u=De(Le(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);pn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ee(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=De(Le(e)).link,n=t?De(Le(t)).deep_link_id:null,r=De(Le(e)).deep_link_id;return(r?De(Le(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(x_){return null}}}]),e}();var hi=function(){function e(){X(this,e),this.providerId=e.PROVIDER_ID}return ee(e,null,[{key:"credential",value:function(e,t){return ei._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fi.parseLink(t);return pn(n,"argument-error"),ei._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hi.PROVIDER_ID="password",hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var di=function(){function e(t){X(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ee(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pi=function(e){ie(n,e);var t=ce(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ee(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ze(this.scopes)}}]),n}(di),vi=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return pn(e.idToken||e.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return pn("providerId"in t&&"signInMethod"in t,"argument-error"),ri._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(pi),mi=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.call(this,"facebook.com")}return ee(n,null,[{key:"credential",value:function(e){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(x_){return null}}}]),n}(pi);mi.FACEBOOK_SIGN_IN_METHOD="facebook.com",mi.PROVIDER_ID="facebook.com";var yi=function(e){ie(n,e);var t=ce(n);function n(){var e;return X(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ee(n,null,[{key:"credential",value:function(e,t){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(x_){return null}}}]),n}(pi);yi.GOOGLE_SIGN_IN_METHOD="google.com",yi.PROVIDER_ID="google.com";var gi=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.call(this,"github.com")}return ee(n,null,[{key:"credential",value:function(e){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(x_){return null}}}]),n}(pi);gi.GITHUB_SIGN_IN_METHOD="github.com",gi.PROVIDER_ID="github.com";var ki=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ee(n,[{key:"_getIdTokenResponse",value:function(e){return ti(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ti(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ti(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Or),wi=function(e){ie(n,e);var t=ce(n);function n(e){return X(this,n),pn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ee(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ki.fromJSON(e);return pn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ki._create(r,n)}catch(i){return null}}}]),n}(di),bi=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.call(this,"twitter.com")}return ee(n,null,[{key:"credential",value:function(e,t){return ri._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(x_){return null}}}]),n}(pi);function xi(e,t){return _i.apply(this,arguments)}function _i(){return _i=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signUp",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}bi.TWITTER_SIGN_IN_METHOD="twitter.com",bi.PROVIDER_ID="twitter.com";var Ii=function(){function e(t){X(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ee(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=qe(We().mark((function t(n,r,i){var a,o,s,u,c=arguments;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,sr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Si(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=qe(We().mark((function t(n,r,i){var a;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Si(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Si(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ei(){return Ei=qe(We().mark((function e(t){var n,r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ii({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ii._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}var Ti=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a){var o,s;return X(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ne(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ee(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ee);function Ci(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ti._fromErrorAndOperation(e,n,t,r);throw n}))}function Ni(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ai(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),e.next=3,Di(!0,r,n);case 3:return e.t0=Un,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ni(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=qe(We().mark((function e(t,n){var r,i,a=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ii._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Di(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn(n);case 2:i=Ni(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",pn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t){return ji.apply(this,arguments)}function ji(){return ji=qe(We().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Gn(t,Ci(i,a,n,t),r);case 6:return pn((o=e.sent).idToken,i,"internal-error"),pn(s=Hn(o.idToken),i,"internal-error"),u=s.sub,pn(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ii._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&cn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ji.apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=qe(We().mark((function e(t,n){var r,i,a,o,s=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ci(t,i,n);case 4:return a=e.sent,e.next=7,Ii._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fi(Er(t),n));case 1:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return(qi=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),e.next=3,Di(!1,r,n.providerId);case 3:return e.abrupt("return",Pi(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(Ue(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pn(t,"POST","/v1/accounts:signInWithCustomToken",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(){return Qi=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t),e.next=3,Hi(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ii._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}var Yi=function(){function e(t,n){X(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ee(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?$i._fromServerResponse(e,t):cn(e,"internal-error")}}]),e}(),$i=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ee(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Yi);function Ji(e,t,n){var r;pn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Xi(){return Xi=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ji(i,a,r),e.next=5,Kr(i,a);case 5:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Zi(){return Zi=qe(We().mark((function e(t,n,r){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(Ue(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function ea(){return ea=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr(Ue(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),e.next=3,Pr(r,{oobCode:n});case 3:i=e.sent,pn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return pn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:pn(i.mfaInfo,r,"internal-error");case 13:pn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Yi._fromServerResponse(Er(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(){return ra=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(Ue(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return aa=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,xi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ii._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(){return oa=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),a={requestType:"EMAIL_SIGNIN",email:n},pn(r.handleCodeInApp,i,"argument-error"),r&&Ji(i,a,r),e.next=6,Hr(i,a);case 6:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function sa(){return sa=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),pn((a=hi.credentialWithLink(n,r||kn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Vi(i,a));case 4:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ua(e,t){return ca.apply(this,arguments)}function ca(){return ca=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:createAuthUri",Tn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wn()?kn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ua(Ue(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(){return(fa=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ji(r.auth,a,n),e.next=8,Br(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(){return(ha=qe(We().mark((function e(t,n,r){var i,a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ji(i.auth,o,r),e.next=8,Qr(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(){return(va=qe(We().mark((function e(t,n){var r,i,a,o,s,u,c;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ue(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Gn(a,da(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t,n){return ya.apply(this,arguments)}function ya(){return ya=qe(We().mark((function e(t,n,r){var i,a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Gn(t,Dr(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}var ga=ee((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ka=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a){var o;return X(this,n),(o=t.call(this,e,r,i)).username=a,o}return ee(n)}(ga),wa=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"facebook.com",r)}return ee(n)}(ga),ba=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ee(n)}(ka),xa=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"google.com",r)}return ee(n)}(ga),_a=function(e){ie(n,e);var t=ce(n);function n(e,r,i){return X(this,n),t.call(this,e,"twitter.com",r,i)}return ee(n)}(ka);function Ia(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Hn(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ga(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wa(a,i);case"github.com":return new ba(a,i);case"google.com":return new xa(a,i);case"twitter.com":return new _a(a,i,e.screenName||null);case"custom":case"anonymous":return new ga(a,null);default:return new ga(a,r,i)}}(n)}var Sa=function(){function e(t,n){X(this,e),this.type=t,this.credential=n}return ee(e,[{key:"toJSON",value:function(){return{multiFactorSession:J({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ea=function(){function e(t,n,r){X(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ee(e,[{key:"resolveSignIn",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Er(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Yi._fromServerResponse(r,e)}));pn(i.mfaPendingCredential,r,"internal-error");var o=Sa._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=qe(We().mark((function e(t){var a,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ii._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return pn(n.user,r,"internal-error"),e.abrupt("return",Ii._forOperation(n.user,n.operationType,s));case 17:cn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ta(e,t){return Cn(e,"POST","/v2/accounts/mfaEnrollment:start",Tn(e,t))}function Ca(e,t){return Cn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Tn(e,t))}var Na=function(){function e(t){var n=this;X(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Yi._fromServerResponse(t.auth,e)})))}))}return ee(e,[{key:"getSession",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Sa,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Gn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=qe(We().mark((function e(t){var n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Gn(this.user,Ca(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Aa=new WeakMap;var Oa="__sak",Pa=function(){function e(t,n){X(this,e),this.storageRetriever=t,this.type=n}return ee(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch(x_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ra=function(e){ie(n,e);var t=ce(n);function n(){var e;return X(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ke();return pr(e)||wr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_r(),e._shouldAllowMigration=!0,e}return ee(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);xr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=qe(We().mark((function e(t,r){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(ae(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=qe(We().mark((function e(t){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(ae(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(ae(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Pa);Ra.type="LOCAL";var Da=Ra,La=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ee(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Pa);La.type="SESSION";var Ma=La;function ja(e){return Promise.all(e.map(function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Fa=function(){function e(t){X(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ee(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=qe(We().mark((function e(t){var n,r,i,a,o,s,u,c;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ja(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ua(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Fa.receivers=[];var Va=function(){function e(t){X(this,e),this.target=t,this.handlers=new Set}return ee(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=qe(We().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ua("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function za(){return window}function Ba(){return"undefined"!==typeof za().WorkerGlobalScope&&"function"===typeof za().importScripts}function qa(){return Ka.apply(this,arguments)}function Ka(){return(Ka=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Wa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ha="firebaseLocalStorageDb",Ga="firebaseLocalStorage",Qa="fbase_key",Ya=function(){function e(t){X(this,e),this.request=t}return ee(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $a(e,t){return e.transaction([Ga],t?"readwrite":"readonly").objectStore(Ga)}function Ja(){var e=indexedDB.deleteDatabase(Ha);return new Ya(e).toPromise()}function Xa(){var e=indexedDB.open(Ha,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ga,{keyPath:Qa})}catch(r){n(r)}})),e.addEventListener("success",qe(We().mark((function n(){var r;return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ga)){n.next=12;break}return r.close(),n.next=5,Ja();case 5:return n.t0=t,n.next=8,Xa();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Za(e,t,n){return eo.apply(this,arguments)}function eo(){return eo=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$a(t,!0).put((J(i={},Qa,n),J(i,"value",r),i)),e.abrupt("return",new Ya(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}function to(e,t){return no.apply(this,arguments)}function no(){return no=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$a(t,!1).get(n),e.next=3,new Ya(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){var n=$a(e,!0).delete(t);return new Ya(n).toPromise()}var io=function(){function e(){X(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ee(e,[{key:"_openDb",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xa();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=qe(We().mark((function e(){var t=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Fa._getInstance(Ba()?self:null),this.receiver._subscribe("keyChanged",function(){var e=qe(We().mark((function e(n,r){var i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=qe(We().mark((function e(){var t,n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qa();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Va(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Wa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xa();case 5:return t=e.sent,e.next=8,Za(t,Oa,"1");case 8:return e.next=10,ro(t,Oa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=qe(We().mark((function e(t,n){var r=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Za(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return to(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=qe(We().mark((function e(t){var n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ro(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=qe(We().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$a(e,!1).getAll();return new Ya(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=te(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();io.type="LOCAL";var ao=io;function oo(e,t){return Cn(e,"POST","/v2/accounts/mfaSignIn:start",Tn(e,t))}function so(e){return uo.apply(this,arguments)}function uo(){return uo=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function co(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ln("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fo=1e12,ho=function(){function e(t){X(this,e),this.auth=t,this.counter=fo,this._widgets=new Map}return ee(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new po(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),po=function(){function e(t,n,r){var i=this;X(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;pn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ee(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var vo=lo("rcb"),mo=new xn(3e4,6e4),yo="https://www.google.com/recaptcha/api.js?",go=function(){function e(){X(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!za().grecaptcha}return ee(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pn(ko(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(za().grecaptcha):new Promise((function(r,i){var a=za().setTimeout((function(){i(ln(e,"network-request-failed"))}),mo.get());za()[vo]=function(){za().clearTimeout(a),delete za()[vo];var o=za().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ln(e,"internal-error"))},co("".concat(yo,"?").concat(Re({onload:vo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ln(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!za().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ko(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var wo=function(){function e(){X(this,e)}return ee(e,[{key:"load",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ho(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),bo="recaptcha",xo={theme:"light",type:"image"},_o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},xo),r=arguments.length>2?arguments[2]:void 0;X(this,e),this.parameters=n,this.type=bo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(r),this.isInvisible="invisible"===this.parameters.size,pn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;pn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wo:new go,this.validateStartingState()}return ee(e,[{key:"verify",value:function(){var e=qe(We().mark((function e(){var t,n,r,i=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){pn(!this.parameters.sitekey,this.auth,"argument-error"),pn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=za()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){pn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=qe(We().mark((function e(){var t,n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pn(wn()&&!Ba(),this.auth,"internal-error"),e.next=3,Io();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,so(this.auth);case 8:pn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return pn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Io(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var So=function(){function e(t,n){X(this,e),this.verificationId=t,this.onConfirmation=n}return ee(e,[{key:"confirm",value:function(e){var t=li._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Eo(){return Eo=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),e.next=3,Ao(i,n,Ue(r));case 3:return a=e.sent,e.abrupt("return",new So(a,(function(e){return Vi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e,t,n){return Co.apply(this,arguments)}function Co(){return(Co=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),e.next=3,Di(!1,i,"phone");case 3:return e.next=5,Ao(i.auth,n,Ue(r));case 5:return a=e.sent,e.abrupt("return",new So(a,(function(e){return Bi(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(){return(No=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),e.next=3,Ao(i.auth,n,Ue(r));case 3:return a=e.sent,e.abrupt("return",new So(a,(function(e){return Ki(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e,t,n){return Oo.apply(this,arguments)}function Oo(){return Oo=qe(We().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pn("string"===typeof a,t,"argument-error"),pn(r.type===bo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return pn("enroll"===s.type,t,"internal-error"),e.next=13,Ta(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return pn("signin"===s.type,t,"internal-error"),pn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oo(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ii(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Oo.apply(this,arguments)}function Po(){return(Po=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(Ue(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ro=function(){function e(t){X(this,e),this.providerId=e.PROVIDER_ID,this.auth=Er(t)}return ee(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ao(this.auth,e,Ue(t))}}],[{key:"credential",value:function(e,t){return li._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?li._fromTokenResponse(n,r):null}}]),e}();function Do(e,t){return t?gn(t):(pn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ro.PROVIDER_ID="phone",Ro.PHONE_SIGN_IN_METHOD="phone";var Lo=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ee(n,[{key:"_getIdTokenResponse",value:function(e){return ti(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ti(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ti(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Or);function Mo(e){return Fi(e.auth,new Lo(e),e.bypassAuthState)}function jo(e){var t=e.auth,n=e.user;return pn(n,t,"internal-error"),Mi(n,new Lo(e),e.bypassAuthState)}function Fo(e){return Uo.apply(this,arguments)}function Uo(){return Uo=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pn(r=t.user,n,"internal-error"),e.abrupt("return",Pi(r,new Lo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}var Vo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];X(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ee(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=qe(We().mark((function t(n,r){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=qe(We().mark((function e(t){var n,r,i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return jo;default:cn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),zo=new xn(2e3,1e4);function Bo(e,t,n){return qo.apply(this,arguments)}function qo(){return qo=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),hn(t,n,di),a=Do(i,r),o=new Go(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ko(){return(Ko=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn((i=Ue(t)).auth,n,di),a=Do(i.auth,r),o=new Go(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t,n){return Ho.apply(this,arguments)}function Ho(){return(Ho=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn((i=Ue(t)).auth,n,di),a=Do(i.auth,r),o=new Go(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Go=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a,o){var s;return X(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ne(s),s}return ee(n,[{key:"executeNotNull",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=qe(We().mark((function e(){var t,n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mn(1===this.filter.length,"Popup operations only handle one event"),t=Ua(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ln(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ln(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ln(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,zo.get())}()}}]),n}(Vo);Go.currentPopupAction=null;var Qo=new Map,Yo=function(e){ie(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return X(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ee(n,[{key:"execute",value:function(){var e=qe(We().mark((function e(){var t,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Qo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$o(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Bt(ae(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Qo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Qo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=qe(We().mark((function e(t){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Bt(ae(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Bt(ae(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Vo);function $o(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ts(n),i=es(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Xo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t)._set(ts(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function es(e){return gn(e._redirectPersistence)}function ts(e){return lr("pendingRedirect",e.config.apiKey,e.name)}function ns(e,t,n){return function(e,t,n){return rs.apply(this,arguments)}(e,t,n)}function rs(){return rs=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Er(t),hn(t,n,di),a=Do(i,r),e.next=5,Xo(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t,n){return function(e,t,n){return as.apply(this,arguments)}(e,t,n)}function as(){return(as=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn((i=Ue(t)).auth,n,di),a=Do(i.auth,r),e.next=5,Xo(a,i.auth);case 5:return e.next=7,hs(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t,n){return function(e,t,n){return ss.apply(this,arguments)}(e,t,n)}function ss(){return(ss=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hn((i=Ue(t)).auth,n,di),a=Do(i.auth,r),e.next=5,Di(!1,i,n.providerId);case 5:return e.next=7,Xo(a,i.auth);case 7:return e.next=9,hs(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t){return cs.apply(this,arguments)}function cs(){return cs=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(t)._initializationPromise;case 2:return e.abrupt("return",ls(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=qe(We().mark((function e(t,n){var r,i,a,o,s,u=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Er(t),a=Do(i,n),o=new Yo(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e){return ds.apply(this,arguments)}function ds(){return(ds=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ua("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ps=function(){function e(t){X(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ee(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ms(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ms(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ln(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(vs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function vs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ms(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ys(e){return gs.apply(this,arguments)}function gs(){return gs=qe(We().mark((function e(t){var n,r=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Cn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}var ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ws=/^https?/;function bs(){return bs=qe(We().mark((function e(t){var n,r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ys(t);case 4:n=e.sent,r=n.authorizedDomains,i=te(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!xs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bs.apply(this,arguments)}function xs(e){var t=kn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ws.test(r))return!1;if(ks.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var _s=new xn(3e4,6e4);function Is(){var e=za().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ze(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ss=null;function Es(e){return Ss=Ss||function(e){return new Promise((function(t,n){var r,i,a;function o(){Is(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Is(),n(ln(e,"network-request-failed"))},timeout:_s.get()})}if(null===(i=null===(r=za().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=za().gapi)||void 0===a?void 0:a.load)){var s=lo("iframefcb");return za()[s]=function(){gapi.load?o():n(ln(e,"network-request-failed"))},co("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ss=null,e}))}(e),Ss}var Ts=new xn(5e3,15e3),Cs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function As(e){var t=e.config;pn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_n(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:St},i=Ns.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Re(r).slice(1))}function Os(e){return Ps.apply(this,arguments)}function Ps(){return Ps=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(t);case 2:return n=e.sent,pn(r=za().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:As(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cs,dontclear:!0},(function(e){return new Promise(function(){var n=qe(We().mark((function n(r,i){var a,o,s;return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){za().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ln(t,"network-request-failed"),o=za().setTimeout((function(){i(a)}),Ts.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}var Rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ds="_blank",Ls="http://localhost",Ms=function(){function e(t){X(this,e),this.window=t,this.associatedEvent=null}return ee(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function js(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Rs),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ke().toLowerCase();n&&(s=vr(l)?Ds:n),dr(l)&&(t=t||Ls,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(br(l)&&"_self"!==s)return Fs(t||"",s),new Ms(null);var h=window.open(t||"",s,f);pn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ms(h)}function Fs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Us="__/auth/handler",Vs="emulator/auth/handler";function zs(e,t,n,r,i,a){pn(e.config.authDomain,e,"auth-domain-config-required"),pn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:St,eventId:i};if(t instanceof di){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof pi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Us);return _n(t,Vs)}(e),"?").concat(Re(p).slice(1))}var Bs="webStorageSupport",qs=function(){function e(){X(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ma,this._completeRedirectFn=ls}return ee(e,[{key:"_openPopup",value:function(){var e=qe(We().mark((function e(t,n,r,i){var a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=zs(t,n,r,kn(),i),e.abrupt("return",js(t,o,Ua()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=qe(We().mark((function e(t,n,r,i){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=zs(t,n,r,kn(),i),za().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(mn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(t);case 2:return n=e.sent,r=new ps(t),n.register("authEvent",(function(e){return pn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Bs,{type:Bs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),cn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bs.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _r()||pr()||wr()}}]),e}(),Ks=qs,Ws=function(){function e(t){X(this,e),this.factorId=t}return ee(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vn("unexpected MultiFactorSessionType")}}}]),e}(),Hs=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this,"phone")).credential=e,r}return ee(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Cn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Cn(e,"POST","/v2/accounts/mfaSignIn:finalize",Tn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ws),Gs=function(){function e(){X(this,e)}return ee(e,null,[{key:"assertion",value:function(e){return Hs._fromCredential(e)}}]),e}();Gs.FACTOR_ID="phone";var Qs,Ys="@firebase/auth",$s="0.19.9",Js=function(){function e(t){X(this,e),this.auth=t,this.internalListeners=new Map}return ee(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Xs(){return window}Qs="Browser",mt(new He("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){pn(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),pn(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Qs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ir(Qs)},r=new Sr(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mt(new He("auth-internal",(function(e){return function(e){return new Js(e)}(Er(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(Ys,$s,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qs)),Ot(Ys,$s,"esm2017");function Zs(e,t,n){return eu.apply(this,arguments)}function eu(){return eu=qe(We().mark((function e(t,n,r){var i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xs(),o=a.BuildInfo,mn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ou(n.sessionId);case 4:return s=e.sent,u={},wr()?u.ibi=o.packageName:yr()?u.apn=o.packageName:cn(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",zs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(){return tu=qe(We().mark((function e(t){var n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xs(),r=n.BuildInfo,i={},wr()?i.iosBundleId=r.packageName:yr()?i.androidPackageName=r.packageName:cn(t,"operation-not-supported-in-this-environment"),e.next=5,ys(t,i);case 5:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e){var t=Xs().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ru(e,t,n){return iu.apply(this,arguments)}function iu(){return iu=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ln(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),yr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),iu.apply(this,arguments)}function au(e){var t,n,r,i,a,o,s,u,c,l,f=Xs();pn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pn("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ou(e){return su.apply(this,arguments)}function su(){return(su=qe(We().mark((function e(t){var n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uu(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e){if(mn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var cu=function(e){ie(n,e);var t=ce(n);function n(){var e;return X(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ee(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Bt(ae(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ps);function lu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:vu(),postBody:null,tenantId:e.tenantId,error:ln(e,"no-auth-event")}}function fu(e,t){return mu()._set(yu(e),t)}function hu(e){return du.apply(this,arguments)}function du(){return du=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu()._get(yu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mu()._remove(yu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){var n,r,i=function(e){var t=gu(e),n=t.link?decodeURIComponent(t.link):void 0,r=gu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return gu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=gu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ln(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function mu(){return gn(Da)}function yu(e){return lr("authEvent",e.config.apiKey,e.name)}function gu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||Ve(t)||o(t)||s();r[0];return De(r.slice(1).join("?"))}var ku=function(){function e(){X(this,e),this._redirectPersistence=Ma,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ls}return ee(e,[{key:"_initialize",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new cu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){cn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=qe(We().mark((function e(t,n,r,i){var a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return au(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Qo.clear(),e.next=10,this._originValidation(t);case 10:return o=lu(t,r,i),e.next=13,fu(t,o);case 13:return e.next=15,Zs(t,o,n);case 15:return s=e.sent,e.next=18,nu(s);case 18:return u=e.sent,e.abrupt("return",ru(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return tu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Xs(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hu(e);case 2:t.onEvent(bu());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=qe(We().mark((function n(r){var i,a;return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,hu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=pu(i,r.url)),t.onEvent(a||bu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Xs().handleOpenURL=function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wu=ku;function bu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}function xu(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function _u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return!("file:"!==xu()&&"ionic:"!==xu()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Iu(){return Ie()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return/Edge\/\d+/.test(e)}function Eu(){try{var e=self.localStorage,t=Ua();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return Iu()||Su(e)}()||Se()}catch(n){return Tu()&&Se()}return!1}function Tu(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cu(){return("http:"===xu()||"https:"===xu()||xe()||_u())&&!(_e()||be())&&Eu()&&!Tu()}function Nu(){return _u()&&"undefined"!==typeof document}function Au(){return Ou.apply(this,arguments)}function Ou(){return(Ou=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pu={LOCAL:"local",NONE:"none",SESSION:"session"},Ru=pn,Du="persistence";function Lu(e,t){Ru(Object.values(Pu).includes(t),e,"invalid-persistence-type"),_e()?Ru(t!==Pu.SESSION,e,"unsupported-persistence-type"):be()?Ru(t===Pu.NONE,e,"unsupported-persistence-type"):Tu()?Ru(t===Pu.NONE||t===Pu.LOCAL&&Se(),e,"unsupported-persistence-type"):Ru(t===Pu.NONE||Eu(),e,"unsupported-persistence-type")}function Mu(e){return ju.apply(this,arguments)}function ju(){return ju=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Fu(),r=lr(Du,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Fu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Uu=pn,Vu=function(){function e(){X(this,e),this.browserResolver=gn(Ks),this.cordovaResolver=gn(wu),this.underlyingResolver=null,this._redirectPersistence=Ma,this._completeRedirectFn=ls}return ee(e,[{key:"_initialize",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=qe(We().mark((function e(t,n,r,i){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=qe(We().mark((function e(t,n,r,i){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Nu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Uu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Au();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zu(e){return e.unwrap()}function Bu(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Gu(e,function(e,t){var n,r=Ue(e),i=t;return pn(t.customData.operationType,r,"argument-error"),pn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ea._fromError(r,i)}(e,t));else if(r){var i=qu(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function qu(e){var t=(e instanceof Ee?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ee)&&"temporaryProof"in t&&"phoneNumber"in t)return Ro.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Qt)return null;switch(r){case Gt:n=yi;break;case Wt:n=mi;break;case Ht:n=gi;break;case Yt:n=bi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ki._create(r,s):ri._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new vi(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ee?n.credentialFromError(e):n.credentialFromResult(e)}function Ku(e,t){return t.catch((function(t){throw t instanceof Ee&&Bu(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,qu(t)),additionalUserInfo:Ia(e),user:Qu.getOrCreate(r)}}))}function Wu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ku(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}var Gu=function(){function e(t,n){X(this,e),this.resolver=n,this.auth=t.wrapped()}return ee(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ku(zu(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Qu=function(){function e(t){X(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ue(e);return Aa.has(t)||Aa.set(t,Na._fromUser(t)),Aa.get(t)}(t)}return ee(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(this.auth,Bi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu(this.auth,To(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(this.auth,Wo(this._delegate,t,Vu)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu(Er(this.auth));case 2:return e.abrupt("return",os(this._delegate,t,Vu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(this.auth,Ki(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Wu(this.auth,function(e,t,n){return No.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ku(this.auth,function(e,t,n){return Ko.apply(this,arguments)}(this._delegate,e,Vu))}},{key:"reauthenticateWithRedirect",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu(Er(this.auth));case 2:return e.abrupt("return",is(this._delegate,t,Vu));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return fa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ma(Ue(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ma(Ue(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Po.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return va.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ha.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Qu.USER_MAP=new WeakMap;var Yu=pn,$u=function(){function e(t,n){if(X(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Yu(r,"invalid-api-key",{appName:t.name}),Yu(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Vu:void 0;this._delegate=n.initialize({options:{persistence:Xu(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(rn),this.linkUnderlyingAuth()}return ee(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Qu.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Cr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ea.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ta(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Zi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(this._delegate,ia(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return la.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=fi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu(Cu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,us(this._delegate,Vu);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ku(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Er(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ju(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ju(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return oa.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Xi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lu(this._delegate,t),e.t0=t,e.next=e.t0===Pu.SESSION?4:e.t0===Pu.LOCAL?6:e.t0===Pu.NONE?11:13;break;case 4:return n=Ma,e.abrupt("break",14);case 6:return e.next=8,gn(ao)._isAvailable();case 8:return r=e.sent,n=r?ao:Da,e.abrupt("break",14);case 11:return n=cr,e.abrupt("break",14);case 13:return e.abrupt("return",cn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ku(this._delegate,function(e){return Ei.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ku(this._delegate,Vi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ku(this._delegate,function(e,t){return Qi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ku(this._delegate,function(e,t,n){return Vi(Ue(e),hi.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ku(this._delegate,function(e,t,n){return sa.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Wu(this._delegate,function(e,t,n){return Eo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu(Cu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ku(this._delegate,Bo(this._delegate,t,Vu)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu(Cu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Mu(this._delegate);case 3:return e.abrupt("return",ns(this._delegate,t,Vu));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ra.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ju(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Qu.getOrCreate(e))},error:t,complete:n}}function Xu(e,t){var n=function(e,t){var n=Fu();if(!n)return[];var r=lr(Du,e,t);switch(n.getItem(r)){case Pu.NONE:return[cr];case Pu.LOCAL:return[ao,Ma];case Pu.SESSION:return[Ma];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ao)||n.push(ao),"undefined"!==typeof window)for(var r=0,i=[Da,Ma];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(cr)||n.push(cr),n}$u.Persistence=Pu;var Zu=function(){function e(){X(this,e),this.providerId="phone",this._delegate=new Ro(zu(Vt.auth()))}return ee(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ro.credential(e,t)}}]),e}();Zu.PHONE_SIGN_IN_METHOD=Ro.PHONE_SIGN_IN_METHOD,Zu.PROVIDER_ID=Ro.PROVIDER_ID;var ec,tc=pn,nc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt.app();X(this,e),tc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new _o(t,n,i.auth()),this.type=this._delegate.type}return ee(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ec=Vt).INTERNAL.registerComponent(new He("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $u(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$t,PASSWORD_RESET:Jt,RECOVER_EMAIL:Xt,REVERT_SECOND_FACTOR_ADDITION:Zt,VERIFY_AND_CHANGE_EMAIL:en,VERIFY_EMAIL:tn}},EmailAuthProvider:hi,FacebookAuthProvider:mi,GithubAuthProvider:gi,GoogleAuthProvider:yi,OAuthProvider:vi,SAMLAuthProvider:wi,PhoneAuthProvider:Zu,PhoneMultiFactorGenerator:Gs,RecaptchaVerifier:nc,TwitterAuthProvider:bi,Auth:$u,AuthCredential:Or,Error:Ee}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ec.registerVersion("@firebase/auth-compat","0.2.9");var rc,ic="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ac={},oc=oc||{},sc=ic||self;function uc(){}function cc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fc="closure_uid_"+(1e9*Math.random()>>>0),hc=0;function dc(e,t,n){return e.call.apply(e.bind,arguments)}function pc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vc(e,t,n){return(vc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dc:pc).apply(null,arguments)}function mc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function gc(){this.s=this.s,this.o=this.o}var kc={};gc.prototype.s=!1,gc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,fc)&&e[fc]||(e[fc]=++hc)}(this);delete kc[e]}},gc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},bc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xc(e){return Array.prototype.concat.apply([],arguments)}function _c(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ic(e){return/^[\s\xa0]*$/.test(e)}var Sc,Ec=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tc(e,t){return-1!=e.indexOf(t)}function Cc(e,t){return e<t?-1:e>t?1:0}e:{var Nc=sc.navigator;if(Nc){var Ac=Nc.userAgent;if(Ac){Sc=Ac;break e}}Sc=""}function Oc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Pc(e){var t={};for(var n in e)t[n]=e[n];return t}var Rc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dc(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Rc.length;a++)n=Rc[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lc(e){return Lc[" "](e),e}Lc[" "]=uc;var Mc,jc=Tc(Sc,"Opera"),Fc=Tc(Sc,"Trident")||Tc(Sc,"MSIE"),Uc=Tc(Sc,"Edge"),Vc=Uc||Fc,zc=Tc(Sc,"Gecko")&&!(Tc(Sc.toLowerCase(),"webkit")&&!Tc(Sc,"Edge"))&&!(Tc(Sc,"Trident")||Tc(Sc,"MSIE"))&&!Tc(Sc,"Edge"),Bc=Tc(Sc.toLowerCase(),"webkit")&&!Tc(Sc,"Edge");function qc(){var e=sc.document;return e?e.documentMode:void 0}e:{var Kc="",Wc=function(){var e=Sc;return zc?/rv:([^\);]+)(\)|;)/.exec(e):Uc?/Edge\/([\d\.]+)/.exec(e):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Bc?/WebKit\/(\S+)/.exec(e):jc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wc&&(Kc=Wc?Wc[1]:""),Fc){var Hc=qc();if(null!=Hc&&Hc>parseFloat(Kc)){Mc=String(Hc);break e}}Mc=Kc}var Gc,Qc={};function Yc(){return function(e){var t=Qc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ec(String(Mc)).split("."),n=Ec("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Cc(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Cc(0==a[2].length,0==o[2].length)||Cc(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(sc.document&&Fc){var $c=qc();Gc=$c||(parseInt(Mc,10)||void 0)}else Gc=void 0;var Jc=Gc,Xc=function(){if(!sc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sc.addEventListener("test",uc,t),sc.removeEventListener("test",uc,t)}catch(n){}return e}();function Zc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function el(e,t){if(Zc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zc){e:{try{Lc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&el.Z.h.call(this)}}Zc.prototype.h=function(){this.defaultPrevented=!0},yc(el,Zc);var tl={2:"touch",3:"pen",4:"mouse"};el.prototype.h=function(){el.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),rl=0;function il(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++rl,this.ca=this.fa=!1}function al(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ol(e){this.src=e,this.g={},this.h=0}function sl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(al(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ul(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ol.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ul(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new il(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var cl="closure_lm_"+(1e6*Math.random()|0),ll={};function fl(e,t,n,r,i){if(r&&r.once)return dl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)fl(e,t[a],n,r,i);return null}return n=wl(n),e&&e[nl]?e.N(t,n,lc(r)?!!r.capture:!!r,i):hl(e,t,n,!1,r,i)}function hl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lc(i)?!!i.capture:!!i,s=gl(e);if(s||(e[cl]=s=new ol(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=yl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ml(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dl(e,t[a],n,r,i);return null}return n=wl(n),e&&e[nl]?e.O(t,n,lc(r)?!!r.capture:!!r,i):hl(e,t,n,!0,r,i)}function pl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)pl(e,t[a],n,r,i);else r=lc(r)?!!r.capture:!!r,n=wl(n),e&&e[nl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ul(a=e.g[t],n,r,i))&&(al(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=gl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ul(t,n,r,i)),(n=-1<e?t[e]:null)&&vl(n))}function vl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[nl])sl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ml(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gl(t))?(sl(n,e),0==n.h&&(n.src=null,t[cl]=null)):al(e)}}}function ml(e){return e in ll?ll[e]:ll[e]="on"+e}function yl(e,t){if(e.ca)e=!0;else{t=new el(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&vl(e),e=n.call(r,t)}return e}function gl(e){return(e=e[cl])instanceof ol?e:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(e){return"function"===typeof e?e:(e[kl]||(e[kl]=function(t){return e.handleEvent(t)}),e[kl])}function bl(){gc.call(this),this.i=new ol(this),this.P=this,this.I=null}function xl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Zc(t,e);else if(t instanceof Zc)t.target=t.target||e;else{var i=t;Dc(t=new Zc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_l(o,r,!0,t)&&i}if(i=_l(o=t.g=e,r,!0,t)&&i,i=_l(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_l(o=t.g=n[a],r,!1,t)&&i}function _l(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&sl(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}yc(bl,gc),bl.prototype[nl]=!0,bl.prototype.removeEventListener=function(e,t,n,r){pl(this,e,t,n,r)},bl.prototype.M=function(){if(bl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)al(n[r]);delete t.g[e],t.h--}}this.I=null},bl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Il=sc.JSON.stringify;function Sl(){var e=Rl,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var El,Tl=function(){function e(){X(this,e),this.h=this.g=null}return ee(e,[{key:"add",value:function(e,t){var n=Cl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Cl=new(function(){function e(t,n){X(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ee(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nl}),(function(e){return e.reset()})),Nl=function(){function e(){X(this,e),this.next=this.g=this.h=null}return ee(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Al(e){sc.setTimeout((function(){throw e}),0)}function Ol(e,t){El||function(){var e=sc.Promise.resolve(void 0);El=function(){e.then(Dl)}}(),Pl||(El(),Pl=!0),Rl.add(e,t)}var Pl=!1,Rl=new Tl;function Dl(){for(var e;e=Sl();){try{e.h.call(e.g)}catch(n){Al(n)}var t=Cl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pl=!1}function Ll(e,t){bl.call(this),this.h=e||1,this.g=t||sc,this.j=vc(this.kb,this),this.l=Date.now()}function Ml(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function jl(e,t,n){if("function"===typeof e)n&&(e=vc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vc(e.handleEvent,e)}return 2147483647<Number(t)?-1:sc.setTimeout(e,t||0)}function Fl(e){e.g=jl((function(){e.g=null,e.i&&(e.i=!1,Fl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}yc(Ll,bl),(rc=Ll.prototype).da=!1,rc.S=null,rc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xl(this,"tick"),this.da&&(Ml(this),this.start()))}},rc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rc.M=function(){Ll.Z.M.call(this),Ml(this),delete this.g};var Ul=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ee(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Fl(this)}},{key:"M",value:function(){Bt(ae(n.prototype),"M",this).call(this),this.g&&(sc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(gc);function Vl(e){gc.call(this),this.h=e,this.g={}}yc(Vl,gc);var zl=[];function Bl(e,t,n,r){Array.isArray(n)||(n&&(zl[0]=n.toString()),n=zl);for(var i=0;i<n.length;i++){var a=fl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ql(e){Oc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vl(e)}),e),e.g={}}function Kl(){this.g=!0}function Wl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Il(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Vl.prototype.M=function(){Vl.Z.M.call(this),ql(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kl.prototype.Aa=function(){this.g=!1},Kl.prototype.info=function(){};var Hl={},Gl=null;function Ql(){return Gl=Gl||new bl}function Yl(e){Zc.call(this,Hl.Ma,e)}function $l(e){var t=Ql();xl(t,new Yl(t,e))}function Jl(e,t){Zc.call(this,Hl.STAT_EVENT,e),this.stat=t}function Xl(e){var t=Ql();xl(t,new Jl(t,e))}function Zl(e,t){Zc.call(this,Hl.Na,e),this.size=t}function ef(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sc.setTimeout((function(){e()}),t)}Hl.Ma="serverreachability",yc(Yl,Zc),Hl.STAT_EVENT="statevent",yc(Jl,Zc),Hl.Na="timingevent",yc(Zl,Zc);var tf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rf(){}function af(e){return e.h||(e.h=e.i())}function of(){}rf.prototype.h=null;var sf,uf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cf(){Zc.call(this,"d")}function lf(){Zc.call(this,"c")}function ff(){}function hf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vl(this),this.P=pf,e=Vc?125:void 0,this.W=new Ll(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new df}function df(){this.i=null,this.g="",this.h=!1}yc(cf,Zc),yc(lf,Zc),yc(ff,rf),ff.prototype.g=function(){return new XMLHttpRequest},ff.prototype.i=function(){return{}},sf=new ff;var pf=45e3,vf={},mf={};function yf(e,t,n){e.K=1,e.v=Vf(Df(t)),e.s=n,e.U=!0,gf(e,null)}function gf(e,t){e.F=Date.now(),xf(e),e.A=Df(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new df,e.g=td(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ul(vc(e.Ia,e,e.g),e.O)),Bl(e.V,e.g,"readystatechange",e.gb),t=e.H?Pc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$l(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function kf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function wf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=bf(e,n))==mf){4==t&&(e.o=4,Xl(14),i=!1),Wl(e.j,e.m,null,"[Incomplete Response]");break}if(r==vf){e.o=4,Xl(15),Wl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wl(e.j,e.m,r,null),Tf(e,r)}kf(e)&&r!=mf&&r!=vf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Xl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gh(t),t.L=!0,Xl(11))):(Wl(e.j,e.m,n,"[Invalid Chunked Response]"),Ef(e),Sf(e))}function bf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mf:(n=Number(t.substring(n,r)),isNaN(n)?vf:(r+=1)+n>t.length?mf:(t=t.substr(r,n),e.C=r+n,t))}function xf(e){e.Y=Date.now()+e.P,_f(e,e.P)}function _f(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ef(vc(e.eb,e),t)}function If(e){e.B&&(sc.clearTimeout(e.B),e.B=null)}function Sf(e){0==e.l.G||e.I||$h(e.l,e)}function Ef(e){If(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ml(e.W),ql(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||sh(n.i,e)))if(n.I=e.N,!e.J&&sh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Yh(n),Fh(n)}Hh(n),Xl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ef(vc(n.ab,n),6e3));if(1>=oh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Xh(n,11)}else if((e.J||n.g==e)&&Yh(n),!Ic(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Tc(l,"spdy")||Tc(l,"quic")||Tc(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(uh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Uf(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ed(r,r.H?r.la:null,r.W),d.J){ch(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(If(p),xf(p)),r.g=d}else Wh(r);0<n.l.length&&zh(n)}else"stop"!=a[0]&&"close"!=a[0]||Xh(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xh(n,7):jh(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}$l(4)}catch(a){}}function Cf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cc(e)||"string"===typeof e)bc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(cc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(cc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Nf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Af(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Of(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Of(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Of(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rc=hf.prototype).setTimeout=function(e){this.P=e},rc.gb=function(e){e=e.target;var t=this.L;t&&3==Ph(e)?t.l():this.Ia(e)},rc.Ia=function(e){try{if(e==this.g)e:{var t=Ph(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Vc||this.g&&(this.h.h||this.g.ga()||Rh(this.g)))){this.I||4!=t||7==n||$l(8==n||0>=r?3:2),If(this);var i=this.g.ba();this.N=i;t:if(kf(this)){var a=Rh(this.g);e="";var o=a.length,s=4==Ph(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ef(this),Sf(this);var u="";break t}this.h.i=new sc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ic(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Xl(12),Ef(this),Sf(this);break e}Wl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tf(this,i)}this.U?(wf(this,t,u),Vc&&this.i&&3==t&&(Bl(this.V,this.W,"tick",this.fb),this.W.start())):(Wl(this.j,this.m,u,null),Tf(this,u)),4==t&&Ef(this),this.i&&!this.I&&(4==t?$h(this.l,this):(this.i=!1,xf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Xl(12)):(this.o=0,Xl(13)),Ef(this),Sf(this)}}}catch(t){}},rc.fb=function(){if(this.g){var e=Ph(this.g),t=this.g.ga();this.C<t.length&&(If(this),wf(this,e,t),this.i&&4!=e&&xf(this))}},rc.cancel=function(){this.I=!0,Ef(this)},rc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($l(3),Xl(17)),Ef(this),this.o=2,Sf(this)):_f(this,this.Y-e)},(rc=Nf.prototype).R=function(){Af(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rc.T=function(){return Af(this),this.g.concat()},rc.get=function(e,t){return Of(this.h,e)?this.h[e]:t},rc.set=function(e,t){Of(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Pf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rf){this.g=void 0!==t?t:e.g,Lf(this,e.j),this.s=e.s,Mf(this,e.i),jf(this,e.m),this.l=e.l,t=e.h;var n=new Yf;n.i=t.i,t.g&&(n.g=new Nf(t.g),n.h=t.h),Ff(this,n),this.o=e.o}else e&&(n=String(e).match(Pf))?(this.g=!!t,Lf(this,n[1]||"",!0),this.s=zf(n[2]||""),Mf(this,n[3]||"",!0),jf(this,n[4]),this.l=zf(n[5]||"",!0),Ff(this,n[6]||"",!0),this.o=zf(n[7]||"")):(this.g=!!t,this.h=new Yf(null,this.g))}function Df(e){return new Rf(e)}function Lf(e,t,n){e.j=n?zf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mf(e,t,n){e.i=n?zf(t,!0):t}function jf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ff(e,t,n){t instanceof Yf?(e.h=t,function(e,t){t&&!e.j&&($f(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jf(this,t),Zf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bf(t,Gf)),e.h=new Yf(t,e.g))}function Uf(e,t,n){e.h.set(t,n)}function Vf(e){return Uf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bf(t,Kf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bf(t,Kf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bf(n,"/"==n.charAt(0)?Hf:Wf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bf(n,Qf)),e.join("")};var Kf=/[#\/\?@]/g,Wf=/[#\?:]/g,Hf=/[#\?]/g,Gf=/[#\?@]/g,Qf=/#/g;function Yf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $f(e){e.g||(e.g=new Nf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jf(e,t){$f(e),t=eh(e,t),Of(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Of((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Af(e)))}function Xf(e,t){return $f(e),t=eh(e,t),Of(e.g.h,t)}function Zf(e,t,n){Jf(e,t),0<n.length&&(e.i=null,e.g.set(eh(e,t),_c(n)),e.h+=n.length)}function eh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rc=Yf.prototype).add=function(e,t){$f(this),this.i=null,e=eh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rc.forEach=function(e,t){$f(this),this.g.forEach((function(n,r){bc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},rc.T=function(){$f(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},rc.R=function(e){$f(this);var t=[];if("string"===typeof e)Xf(this,e)&&(t=xc(t,this.g.get(eh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xc(t,e[n])}return t},rc.set=function(e,t){return $f(this),this.i=null,Xf(this,e=eh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var th=ee((function e(t,n){X(this,e),this.h=t,this.g=n}));function nh(e){this.l=e||ih,sc.PerformanceNavigationTiming?e=0<(e=sc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sc.g&&sc.g.Ea&&sc.g.Ea()&&sc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rh,ih=10;function ah(e){return!!e.h||!!e.g&&e.g.size>=e.j}function oh(e){return e.h?1:e.g?e.g.size:0}function sh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uh(e,t){e.g?e.g.add(t):e.h=t}function ch(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=te(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _c(e.i)}function fh(){}function hh(){this.g=new fh}function dh(e,t,n){var r=n||"";try{Cf(e,(function(e,n){var i=e;lc(e)&&(i=Il(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ph(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vh(e){this.l=e.$b||null,this.j=e.ib||!1}function mh(e,t){bl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=yh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nh.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=te(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},fh.prototype.stringify=function(e){return sc.JSON.stringify(e,void 0)},fh.prototype.parse=function(e){return sc.JSON.parse(e,void 0)},yc(vh,rf),vh.prototype.g=function(){return new mh(this.l,this.j)},vh.prototype.i=(rh={},function(){return rh}),yc(mh,bl);var yh=0;function gh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function kh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wh(e)}function wh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rc=mh.prototype).open=function(e,t){if(this.readyState!=yh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wh(this)},rc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kh(this)),this.readyState=yh},rc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wh(this)),this.g&&(this.readyState=3,wh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof sc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kh(this):wh(this),3==this.readyState&&gh(this)}},rc.Ua=function(e){this.g&&(this.response=this.responseText=e,kh(this))},rc.Ta=function(e){this.g&&(this.response=e,kh(this))},rc.ha=function(){this.g&&kh(this)},rc.setRequestHeader=function(e,t){this.v.append(e,t)},rc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bh=sc.JSON.parse;function xh(e){bl.call(this),this.headers=new Nf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_h,this.K=this.L=!1}yc(xh,bl);var _h="",Ih=/^https?$/i,Sh=["POST","PUT"];function Eh(e){return"content-type"==e.toLowerCase()}function Th(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ch(e),Ah(e)}function Ch(e){e.D||(e.D=!0,xl(e,"complete"),xl(e,"error"))}function Nh(e){if(e.h&&"undefined"!=typeof oc&&(!e.C[1]||4!=Ph(e)||2!=e.ba()))if(e.v&&4==Ph(e))jl(e.Fa,0,e);else if(xl(e,"readystatechange"),4==Ph(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Pf)[1]||null;if(!a&&sc.self&&sc.self.location){var o=sc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ih.test(a?a.toLowerCase():"")}t=i}if(t)xl(e,"complete"),xl(e,"success");else{e.m=6;try{var s=2<Ph(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ch(e)}}finally{Ah(e)}}}function Ah(e,t){if(e.g){Oh(e);var n=e.g,r=e.C[0]?uc:null;e.g=null,e.C=null,t||xl(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Oh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sc.clearTimeout(e.A),e.A=null)}function Ph(e){return e.g?e.g.readyState:0}function Rh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case _h:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Dh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Oc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Uf(e,t,n))}function Lh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mh(e){this.za=0,this.l=[],this.h=new Kl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lh("baseRetryDelayMs",5e3,e),this.$a=Lh("retryDelaySeedMs",1e4,e),this.Ya=Lh("forwardChannelMaxRetries",2,e),this.ra=Lh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nh(e&&e.concurrentRequestLimit),this.Ca=new hh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function jh(e){if(Uh(e),3==e.G){var t=e.V++,n=Df(e.F);Uf(n,"SID",e.J),Uf(n,"RID",t),Uf(n,"TYPE","terminate"),qh(e,n),(t=new hf(e,e.h,t,void 0)).K=2,t.v=Vf(Df(n)),n=!1,sc.navigator&&sc.navigator.sendBeacon&&(n=sc.navigator.sendBeacon(t.v.toString(),"")),!n&&sc.Image&&((new Image).src=t.v,n=!0),n||(t.g=td(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xf(t)}Zh(e)}function Fh(e){e.g&&(Gh(e),e.g.cancel(),e.g=null)}function Uh(e){Fh(e),e.u&&(sc.clearTimeout(e.u),e.u=null),Yh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sc.clearTimeout(e.m),e.m=null)}function Vh(e,t){e.l.push(new th(e.Za++,t)),3==e.G&&zh(e)}function zh(e){ah(e.i)||e.m||(e.m=!0,Ol(e.Ha,e),e.C=0)}function Bh(e,t){var n;n=t?t.m:e.V++;var r=Df(e.F);Uf(r,"SID",e.J),Uf(r,"RID",n),Uf(r,"AID",e.U),qh(e,r),e.o&&e.s&&Dh(r,e.o,e.s),n=new hf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),uh(e.i,n),yf(n,r,t)}function qh(e,t){e.j&&Cf({},(function(e,n){Uf(t,n,e)}))}function Kh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{dh(l,o,"req"+c+"_")}catch(Nd){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Wh(e){e.g||e.u||(e.Y=1,Ol(e.Ga,e),e.A=0)}function Hh(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ef(vc(e.Ga,e),Jh(e,e.A)),e.A++,!0)}function Gh(e){null!=e.B&&(sc.clearTimeout(e.B),e.B=null)}function Qh(e){e.g=new hf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Df(e.oa);Uf(t,"RID","rpc"),Uf(t,"SID",e.J),Uf(t,"CI",e.N?"0":"1"),Uf(t,"AID",e.U),qh(e,t),Uf(t,"TYPE","xmlhttp"),e.o&&e.s&&Dh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vf(Df(t)),n.s=null,n.U=!0,gf(n,e)}function Yh(e){null!=e.v&&(sc.clearTimeout(e.v),e.v=null)}function $h(e,t){var n=null;if(e.g==t){Yh(e),Gh(e),e.g=null;var r=2}else{if(!sh(e.i,t))return;n=t.D,ch(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xl(r=Ql(),new Zl(r,n,t,i)),zh(e)}else Wh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(oh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ef(vc(e.Ha,e,t),Jh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xh(e,5);break;case 4:Xh(e,10);break;case 3:Xh(e,6);break;default:Xh(e,2)}}function Jh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=vc(e.jb,e);n||(n=new Rf("//www.google.com/images/cleardot.gif"),sc.location&&"http"==sc.location.protocol||Lf(n,"https"),Vf(n)),function(e,t){var n=new Kl;if(sc.Image){var r=new Image;r.onload=mc(ph,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mc(ph,n,r,"TestLoadImage: error",!1,t),r.onabort=mc(ph,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mc(ph,n,r,"TestLoadImage: timeout",!1,t),sc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Xl(2);e.G=0,e.j&&e.j.va(t),Zh(e),Uh(e)}function Zh(e){e.G=0,e.I=-1,e.j&&(0==lh(e.i).length&&0==e.l.length||(e.i.i.length=0,_c(e.l),e.l.length=0),e.j.ua())}function ed(e,t,n){var r=function(e){return e instanceof Rf?Df(e):new Rf(e,void 0)}(n);if(""!=r.i)t&&Mf(r,t+"."+r.i),jf(r,r.m);else{var i=sc.location;r=function(e,t,n,r){var i=new Rf(null,void 0);return e&&Lf(i,e),t&&Mf(i,t),n&&jf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Oc(e.aa,(function(e,t){Uf(r,t,e)})),t=e.D,n=e.sa,t&&n&&Uf(r,t,n),Uf(r,"VER",e.ma),qh(e,r),r}function td(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new xh(new vh({ib:!0})):new xh(e.qa)).L=e.H,t}function nd(){}function rd(){if(Fc&&!(10<=Number(Jc)))throw Error("Environmental error: no available transport.")}function id(e,t){bl.call(this),this.g=new Mh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ic(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ic(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sd(this)}function ad(e){cf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function od(){lf.call(this),this.status=1}function sd(e){this.g=e}(rc=xh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sf.g(),this.C=this.u?af(this.u):af(sf),this.g.onreadystatechange=vc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Th(this,a)}e=n||"";var i=new Nf(this.headers);r&&Cf(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Eh,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=sc.FormData&&e instanceof sc.FormData,!(0<=wc(Sh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oh(this),0<this.B&&((this.K=function(e){return Fc&&Yc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vc(this.pa,this)):this.A=jl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Th(this,a)}},rc.pa=function(){"undefined"!=typeof oc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xl(this,"timeout"),this.abort(8))},rc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xl(this,"complete"),xl(this,"abort"),Ah(this))},rc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ah(this,!0)),xh.Z.M.call(this)},rc.Fa=function(){this.s||(this.F||this.v||this.l?Nh(this):this.cb())},rc.cb=function(){Nh(this)},rc.ba=function(){try{return 2<Ph(this)?this.g.status:-1}catch(rh){return-1}},rc.ga=function(){try{return this.g?this.g.responseText:""}catch(rh){return""}},rc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bh(t)}},rc.Da=function(){return this.m},rc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(rc=Mh.prototype).ma=8,rc.G=1,rc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},rc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Dc(n=Pc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kh(this,t,r),Uf(i=Df(this.F),"RID",e),Uf(i,"CVER",22),this.D&&Uf(i,"X-HTTP-Session-Id",this.D),qh(this,i),this.o&&n&&Dh(i,this.o,n),uh(this.i,t),this.Ra&&Uf(i,"TYPE","init"),this.ja?(Uf(i,"$req",r),Uf(i,"SID","null"),t.$=!0,yf(t,i,null)):yf(t,i,r),this.G=2}}else 3==this.G&&(e?Bh(this,e):0==this.l.length||ah(this.i)||Bh(this))},rc.Ga=function(){if(this.u=null,Qh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ef(vc(this.bb,this),e)}},rc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xl(10),Fh(this),Qh(this))},rc.ab=function(){null!=this.v&&(this.v=null,Fh(this),Hh(this),Xl(19))},rc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xl(2)):(this.h.info("Failed to ping google.com"),Xl(1))},(rc=nd.prototype).xa=function(){},rc.wa=function(){},rc.va=function(){},rc.ua=function(){},rc.Oa=function(){},rd.prototype.g=function(e,t){return new id(e,t)},yc(id,bl),id.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ol(vc(e.hb,e,t))),Xl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ed(e,null,e.W),zh(e)},id.prototype.close=function(){jh(this.g)},id.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vh(this.g,t)}else this.v?((t={}).__data__=Il(e),Vh(this.g,t)):Vh(this.g,e)},id.prototype.M=function(){this.g.j=null,delete this.j,jh(this.g),delete this.g,id.Z.M.call(this)},yc(ad,cf),yc(od,lf),yc(sd,nd),sd.prototype.xa=function(){xl(this.g,"a")},sd.prototype.wa=function(e){xl(this.g,new ad(e))},sd.prototype.va=function(e){xl(this.g,new od(e))},sd.prototype.ua=function(){xl(this.g,"b")},rd.prototype.createWebChannel=rd.prototype.g,id.prototype.send=id.prototype.u,id.prototype.open=id.prototype.m,id.prototype.close=id.prototype.close,tf.NO_ERROR=0,tf.TIMEOUT=8,tf.HTTP_ERROR=6,nf.COMPLETE="complete",of.EventType=uf,uf.OPEN="a",uf.CLOSE="b",uf.ERROR="c",uf.MESSAGE="d",bl.prototype.listen=bl.prototype.N,xh.prototype.listenOnce=xh.prototype.O,xh.prototype.getLastError=xh.prototype.La,xh.prototype.getLastErrorCode=xh.prototype.Da,xh.prototype.getStatus=xh.prototype.ba,xh.prototype.getResponseJson=xh.prototype.Qa,xh.prototype.getResponseText=xh.prototype.ga,xh.prototype.send=xh.prototype.ea;var ud=ac.createWebChannelTransport=function(){return new rd},cd=ac.getStatEventTarget=function(){return Ql()},ld=ac.ErrorCode=tf,fd=ac.EventType=nf,hd=ac.Event=Hl,dd=ac.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pd=ac.FetchXmlHttpFactory=vh,vd=ac.WebChannel=of,md=ac.XhrIo=xh,yd="@firebase/firestore",gd=function(){function e(t){X(this,e),this.uid=t}return ee(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gd.UNAUTHENTICATED=new gd(null),gd.GOOGLE_CREDENTIALS=new gd("google-credentials-uid"),gd.FIRST_PARTY=new gd("first-party-uid"),gd.MOCK_USER=new gd("mock-user");var kd="9.6.7",wd=new at("@firebase/firestore");function bd(){return wd.logLevel}function xd(e){if(wd.logLevel<=$e.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sd);wd.debug.apply(wd,["Firestore (".concat(kd,"): ").concat(e)].concat(ze(i)))}}function _d(e){if(wd.logLevel<=$e.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sd);wd.error.apply(wd,["Firestore (".concat(kd,"): ").concat(e)].concat(ze(i)))}}function Id(e){if(wd.logLevel<=$e.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sd);wd.warn.apply(wd,["Firestore (".concat(kd,"): ").concat(e)].concat(ze(i)))}}function Sd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(kd,") INTERNAL ASSERTION FAILED: ")+e;throw _d(t),new Error(t)}function Td(e,t){e||Ed()}function Cd(e,t){return e}var Nd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ad=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ee(n)}(Ee),Od=ee((function e(){var t=this;X(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pd=ee((function e(t,n){X(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rd=function(){function e(){X(this,e)}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Dd=function(){function e(t){X(this,e),this.token=t,this.changeListener=null}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ld=function(){function e(t){X(this,e),this.t=t,this.currentUser=gd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ee(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Od;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Od,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){xd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(xd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Od)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(xd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Td("string"==typeof n.accessToken),new Pd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Td(null===e||"string"==typeof e),new gd(e)}}]),e}(),Md=ee((function e(t,n,r){X(this,e),this.type="FirstParty",this.user=gd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),jd=function(){function e(t,n,r){X(this,e),this.h=t,this.l=n,this.m=r}return ee(e,[{key:"getToken",value:function(){return Promise.resolve(new Md(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Fd=ee((function e(t){X(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ud=function(){function e(t){X(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ee(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&xd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,xd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){xd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):xd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Td("string"==typeof t.token),e.p=t.token,new Fd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Vd=function(){function e(t,n){var r=this;X(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ee(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function zd(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Vd.A=-1;var Bd=function(){function e(){X(this,e)}return ee(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zd(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function qd(e,t){return e<t?-1:e>t?1:0}function Kd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Wd(e){return e+"\0"}var Hd=function(){function e(t,n){if(X(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ad(Nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ad(Nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ad(Nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ad(Nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ee(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?qd(this.nanoseconds,e.nanoseconds):qd(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Gd=function(){function e(t){X(this,e),this.timestamp=t}return ee(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Hd(0,0))}}]),e}();function Qd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $d(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Jd=function(){function e(t,n,r){X(this,e),void 0===n?n=0:n>t.length&&Ed(),void 0===r?r=t.length-n:r>t.length-n&&Ed(),this.segments=t,this.offset=n,this.len=r}return ee(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Xd=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ze(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jd),Zd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ep=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Zd.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ad(Nd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ad(Nd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ad(Nd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jd),tp=function(){function e(t){X(this,e),this.fields=t,t.sort(ep.comparator)}return ee(e,[{key:"covers",value:function(e){var t,n=te(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var np=function(e){function t(e){X(this,t),this.binaryString=e}return ee(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return qd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();np.EMPTY_BYTE_STRING=new np("");var rp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ip(e){if(Td(!!e),"string"==typeof e){var t=0,n=rp.exec(e);if(Td(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ap(e.seconds),nanos:ap(e.nanos)}}function ap(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function op(e){return"string"==typeof e?np.fromBase64String(e):np.fromUint8Array(e)}function sp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function up(e){var t=e.mapValue.fields.__previous_value__;return sp(t)?up(t):t}function cp(e){var t=ip(e.mapValue.fields.__local_write_time__.timestampValue);return new Hd(t.seconds,t.nanos)}var lp=ee((function e(t,n,r,i,a,o,s,u){X(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),fp=function(){function e(t,n){X(this,e),this.projectId=t,this.database=n||"(default)"}return ee(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function hp(e){return null==e}function dp(e){return 0===e&&1/e==-1/0}function pp(e){return"number"==typeof e&&Number.isInteger(e)&&!dp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var vp=function(){function e(t){X(this,e),this.path=t}return ee(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Xd.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Xd.fromString(t))}},{key:"fromName",value:function(t){return new e(Xd.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Xd.emptyPath())}},{key:"comparator",value:function(e,t){return Xd.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Xd(t.slice()))}}]),e}(),mp={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function yp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sp(e)?4:10:Ed()}function gp(e,t){if(e===t)return!0;var n=yp(e);if(n!==yp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cp(e).isEqual(cp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ip(e.timestampValue),r=ip(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return op(e.bytesValue).isEqual(op(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ap(e.geoPointValue.latitude)===ap(t.geoPointValue.latitude)&&ap(e.geoPointValue.longitude)===ap(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ap(e.integerValue)===ap(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ap(e.doubleValue),r=ap(t.doubleValue);return n===r?dp(n)===dp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kd(e.arrayValue.values||[],t.arrayValue.values||[],gp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qd(n)!==Qd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!gp(n[i],r[i])))return!1;return!0}(e,t);default:return Ed()}}function kp(e,t){return void 0!==(e.values||[]).find((function(e){return gp(e,t)}))}function wp(e,t){if(e===t)return 0;var n=yp(e),r=yp(t);if(n!==r)return qd(n,r);switch(n){case 0:return 0;case 1:return qd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ap(e.integerValue||e.doubleValue),r=ap(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bp(e.timestampValue,t.timestampValue);case 4:return bp(cp(e),cp(t));case 5:return qd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=op(e),r=op(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=qd(n[i],r[i]);if(0!==a)return a}return qd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qd(ap(e.latitude),ap(t.latitude));return 0!==n?n:qd(ap(e.longitude),ap(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wp(n[i],r[i]);if(a)return a}return qd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=qd(r[o],a[o]);if(0!==s)return s;var u=wp(n[r[o]],i[a[o]]);if(0!==u)return u}return qd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ed()}}function bp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qd(e,t);var n=ip(e),r=ip(t),i=qd(n.seconds,r.seconds);return 0!==i?i:qd(n.nanos,r.nanos)}function xp(e){return _p(e)}function _p(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ip(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?op(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=te(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=_p(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=te(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(_p(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ed();var t,n}function Ip(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sp(e){return!!e&&"integerValue"in e}function Ep(e){return!!e&&"arrayValue"in e}function Tp(e){return!!e&&"nullValue"in e}function Cp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Np(e){return!!e&&"mapValue"in e}function Ap(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ap(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ap(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Op=function(){function e(t){X(this,e),this.value=t}return ee(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Np(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ap(t)}},{key:"setAll",value:function(e){var t=this,n=ep.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ap(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Np(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return gp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Np(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yd(t,(function(t,n){return e[t]=n}));var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ap(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Pp(e){var t=[];return Yd(e.fields,(function(e,n){var r=new ep([e]);if(Np(n)){var i=Pp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=te(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new tp(t)}var Rp=function(){function e(t,n,r,i,a,o){X(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ee(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Op.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Op.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Gd.min(),Gd.min(),Op.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Gd.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Gd.min(),Op.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Gd.min(),Op.empty(),2)}}]),e}(),Dp=ee((function e(t,n,r,i){X(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Dp.UNKNOWN_ID=-1;var Lp=ee((function e(t,n){X(this,e),this.fieldPath=t,this.kind=n})),Mp=function(){function e(t,n){X(this,e),this.sequenceNumber=t,this.offset=n}return ee(e,null,[{key:"empty",value:function(){return new e(0,jp.min())}}]),e}(),jp=function(){function e(t,n,r){X(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ee(e,null,[{key:"min",value:function(){return new e(Gd.min(),vp.empty(),-1)}}]),e}(),Fp=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;X(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Up(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Fp(e,t,n,r,i,a,o)}function Vp(e){var t=Cd(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+xp(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),hp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return xp(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return xp(e)})).join(",")),t.P=n}return t.P}function zp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ev(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!gp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nv(e.startAt,t.startAt)&&nv(e.endAt,t.endAt)}function Bp(e){return vp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var qp=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(wp(t,this.value)):null!==t&&yp(this.value)===yp(t)&&this.V(wp(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ed()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Kp(e,t,r):"array-contains"===t?new Qp(e,r):"in"===t?new Yp(e,r):"not-in"===t?new $p(e,r):"array-contains-any"===t?new Jp(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Wp(e,n):new Hp(e,n)}}]),n}(function(){return ee((function e(){X(this,e)}))}()),Kp=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,e,r,i)).key=vp.fromName(i.referenceValue),a}return ee(n,[{key:"matches",value:function(e){var t=vp.comparator(e.key,this.key);return this.V(t)}}]),n}(qp),Wp=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,"in",r)).keys=Gp("in",r),i}return ee(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qp),Hp=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,"not-in",r)).keys=Gp("not-in",r),i}return ee(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qp);function Gp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return vp.fromName(e.referenceValue)}))}var Qp=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"array-contains",r)}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ep(t)&&kp(t.arrayValue,this.value)}}]),n}(qp),Yp=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"in",r)}return ee(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&kp(this.value.arrayValue,t)}}]),n}(qp),$p=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"not-in",r)}return ee(n,[{key:"matches",value:function(e){if(kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!kp(this.value.arrayValue,t)}}]),n}(qp),Jp=function(e){ie(n,e);var t=ce(n);function n(e,r){return X(this,n),t.call(this,e,"array-contains-any",r)}return ee(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return kp(t.value.arrayValue,e)}))}}]),n}(qp),Xp=ee((function e(t,n){X(this,e),this.position=t,this.inclusive=n})),Zp=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";X(this,e),this.field=t,this.dir=n}));function ev(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function tv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?vp.comparator(vp.fromName(o.referenceValue),n.key):wp(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gp(e.position[n],t.position[n]))return!1;return!0}var rv=ee((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;X(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function iv(e,t,n,r,i,a,o,s){return new rv(e,t,n,r,i,a,o,s)}function av(e){return new rv(e)}function ov(e){return!hp(e.limit)&&"F"===e.limitType}function sv(e){return!hp(e.limit)&&"L"===e.limitType}function uv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cv(e){var t,n=te(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function lv(e){return null!==e.collectionGroup}function fv(e){var t=Cd(e);if(null===t.D){t.D=[];var n=cv(t),r=uv(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Zp(n)),t.D.push(new Zp(ep.keyField(),"asc"));else{var i,a=!1,o=te(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Zp(ep.keyField(),u))}}}return t.D}function hv(e){var t=Cd(e);if(!t.C)if("F"===t.limitType)t.C=Up(t.path,t.collectionGroup,fv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=te(fv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Zp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Xp(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Xp(t.startAt.position,!t.startAt.inclusive):null;t.C=Up(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function dv(e,t,n){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pv(e,t){return zp(hv(e),hv(t))&&e.limitType===t.limitType}function vv(e){return"".concat(Vp(hv(e)),"|lt:").concat(e.limitType)}function mv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xp(t.value));var t})).join(", "),"]")),hp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return xp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return xp(e)})).join(",")),"Target(".concat(t,")")}(hv(e)),"; limitType=").concat(e.limitType,")")}function yv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=te(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=te(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fv(e),t))&&!(e.endAt&&!function(e,t,n){var r=tv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fv(e),t))}(e,t)}function gv(e){return function(t,n){var r,i=!1,a=te(fv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=kv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function kv(e,t,n){var r=e.field.isKeyField()?vp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wp(r,i):Ed()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ed()}}function wv(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dp(t)?"-0":t}}function bv(e){return{integerValue:""+e}}function xv(e,t){return pp(t)?bv(t):wv(e,t)}var _v=ee((function e(){X(this,e),this._=void 0}));function Iv(e,t,n){return e instanceof Tv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cv?Nv(e,t):e instanceof Av?Ov(e,t):function(e,t){var n=Ev(e,t),r=Rv(n)+Rv(e.k);return Sp(n)&&Sp(e.k)?bv(r):wv(e.O,r)}(e,t)}function Sv(e,t,n){return e instanceof Cv?Nv(e,t):e instanceof Av?Ov(e,t):n}function Ev(e,t){return e instanceof Pv?Sp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Tv=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n)}(_v),Cv=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).elements=e,r}return ee(n)}(_v);function Nv(e,t){var n,r=Dv(t),i=te(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return gp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Av=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).elements=e,r}return ee(n)}(_v);function Ov(e,t){var n,r=Dv(t),i=te(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!gp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pv=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).O=e,i.k=r,i}return ee(n)}(_v);function Rv(e){return ap(e.integerValue||e.doubleValue)}function Dv(e){return Ep(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lv=ee((function e(t,n){X(this,e),this.field=t,this.transform=n}));var Mv=ee((function e(t,n){X(this,e),this.version=t,this.transformResults=n})),jv=function(){function e(t,n){X(this,e),this.updateTime=t,this.exists=n}return ee(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Fv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Uv=ee((function e(){X(this,e)}));function Vv(e,t,n){e instanceof Wv?function(e,t,n){var r=e.value.clone(),i=Qv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hv?function(e,t,n){if(Fv(e.precondition,t)){var r=Qv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zv(e,t,n){e instanceof Wv?function(e,t,n){if(Fv(e.precondition,t)){var r=e.value.clone(),i=Yv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Kv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Hv?function(e,t,n){if(Fv(e.precondition,t)){var r=Yv(e.fieldTransforms,n,t),i=t.data;i.setAll(Gv(e)),i.setAll(r),t.convertToFoundDocument(Kv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Fv(e.precondition,t)&&t.convertToNoDocument(Gd.min())}(e,t)}function Bv(e,t){var n,r=null,i=te(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ev(a.transform,o||null);null!=s&&(null==r&&(r=Op.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function qv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cv&&t instanceof Cv||e instanceof Av&&t instanceof Av?Kd(e.elements,t.elements,gp):e instanceof Pv&&t instanceof Pv?gp(e.k,t.k):e instanceof Tv&&t instanceof Tv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Kv(e){return e.isFoundDocument()?e.version:Gd.min()}var Wv=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return X(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ee(n)}(Uv),Hv=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return X(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ee(n)}(Uv);function Gv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qv(e,t,n){var r=new Map;Td(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Sv(o,s,n[i]))}return r}function Yv(e,t,n){var r,i=new Map,a=te(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Iv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var $v,Jv,Xv=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ee(n)}(Uv),Zv=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ee(n)}(Uv),em=ee((function e(t){X(this,e),this.count=t}));function tm(e){switch(e){default:return Ed();case Nd.CANCELLED:case Nd.UNKNOWN:case Nd.DEADLINE_EXCEEDED:case Nd.RESOURCE_EXHAUSTED:case Nd.INTERNAL:case Nd.UNAVAILABLE:case Nd.UNAUTHENTICATED:return!1;case Nd.INVALID_ARGUMENT:case Nd.NOT_FOUND:case Nd.ALREADY_EXISTS:case Nd.PERMISSION_DENIED:case Nd.FAILED_PRECONDITION:case Nd.ABORTED:case Nd.OUT_OF_RANGE:case Nd.UNIMPLEMENTED:case Nd.DATA_LOSS:return!0}}function nm(e){if(void 0===e)return _d("GRPC error has no .code"),Nd.UNKNOWN;switch(e){case $v.OK:return Nd.OK;case $v.CANCELLED:return Nd.CANCELLED;case $v.UNKNOWN:return Nd.UNKNOWN;case $v.DEADLINE_EXCEEDED:return Nd.DEADLINE_EXCEEDED;case $v.RESOURCE_EXHAUSTED:return Nd.RESOURCE_EXHAUSTED;case $v.INTERNAL:return Nd.INTERNAL;case $v.UNAVAILABLE:return Nd.UNAVAILABLE;case $v.UNAUTHENTICATED:return Nd.UNAUTHENTICATED;case $v.INVALID_ARGUMENT:return Nd.INVALID_ARGUMENT;case $v.NOT_FOUND:return Nd.NOT_FOUND;case $v.ALREADY_EXISTS:return Nd.ALREADY_EXISTS;case $v.PERMISSION_DENIED:return Nd.PERMISSION_DENIED;case $v.FAILED_PRECONDITION:return Nd.FAILED_PRECONDITION;case $v.ABORTED:return Nd.ABORTED;case $v.OUT_OF_RANGE:return Nd.OUT_OF_RANGE;case $v.UNIMPLEMENTED:return Nd.UNIMPLEMENTED;case $v.DATA_LOSS:return Nd.DATA_LOSS;default:return Ed()}}(Jv=$v||($v={}))[Jv.OK=0]="OK",Jv[Jv.CANCELLED=1]="CANCELLED",Jv[Jv.UNKNOWN=2]="UNKNOWN",Jv[Jv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jv[Jv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jv[Jv.NOT_FOUND=5]="NOT_FOUND",Jv[Jv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jv[Jv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jv[Jv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jv[Jv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jv[Jv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jv[Jv.ABORTED=10]="ABORTED",Jv[Jv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jv[Jv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jv[Jv.INTERNAL=13]="INTERNAL",Jv[Jv.UNAVAILABLE=14]="UNAVAILABLE",Jv[Jv.DATA_LOSS=15]="DATA_LOSS";var rm=function(){function e(t,n){X(this,e),this.comparator=t,this.root=n||am.EMPTY}return ee(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,am.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,am.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new im(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new im(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new im(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new im(this.root,e,this.comparator,!0)}}]),e}(),im=function(){function e(t,n,r,i){X(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ee(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),am=function(){function e(t,n,r,i,a){X(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ee(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ed();if(this.right.isRed())throw Ed();var e=this.left.check();if(e!==this.right.check())throw Ed();return e+(this.isRed()?0:1)}}]),e}();am.EMPTY=null,am.RED=!0,am.BLACK=!1,am.EMPTY=new(function(){function e(){X(this,e),this.size=0}return ee(e,[{key:"key",get:function(){throw Ed()}},{key:"value",get:function(){throw Ed()}},{key:"color",get:function(){throw Ed()}},{key:"left",get:function(){throw Ed()}},{key:"right",get:function(){throw Ed()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new am(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var om=function(){function e(t){X(this,e),this.comparator=t,this.data=new rm(this.comparator)}return ee(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new sm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new sm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),sm=function(){function e(t){X(this,e),this.iter=t}return ee(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function um(e){return e.hasNext()?e.getNext():void 0}var cm=new rm(vp.comparator);function lm(){return cm}var fm=new rm(vp.comparator);function hm(){return fm}var dm=new rm(vp.comparator),pm=new om(vp.comparator);function vm(){for(var e=pm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var mm=new om(qd);function ym(){return mm}var gm=function(){function e(t,n,r,i,a){X(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ee(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,km.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Gd.min(),r,ym(),lm(),vm())}}]),e}(),km=function(){function e(t,n,r,i,a){X(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ee(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(np.EMPTY_BYTE_STRING,n,vm(),vm(),vm())}}]),e}(),wm=ee((function e(t,n,r,i){X(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),bm=ee((function e(t,n){X(this,e),this.targetId=t,this.F=n})),xm=ee((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:np.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;X(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_m=function(){function e(){X(this,e),this.B=0,this.L=Em(),this.U=np.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ee(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=vm(),t=vm(),n=vm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ed()}})),new km(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Em()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Im=function(){function e(t){X(this,e),this.nt=t,this.st=new Map,this.it=lm(),this.rt=Sm(),this.ot=new om(qd)}return ee(e,[{key:"ct",value:function(e){var t,n=te(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=te(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Ed()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(Bp(i))if(0===n){var a=new vp(i.path);this.at(t,a,Rp.newNoDocument(a,Gd.min()))}else Td(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Bp(a.target)){var o=new vp(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Rp.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=vm();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new gm(e,n,this.ot,this.it,r);return this.it=lm(),this.rt=Sm(),this.ot=new om(qd),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new _m,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new om(qd),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||xd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new _m),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sm(){return new rm(vp.comparator)}function Em(){return new rm(vp.comparator)}var Tm={asc:"ASCENDING",desc:"DESCENDING"},Cm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nm=ee((function e(t,n){X(this,e),this.databaseId=t,this.N=n}));function Am(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Om(e,t){return e.N?t.toBase64():t.toUint8Array()}function Pm(e,t){return Am(e,t.toTimestamp())}function Rm(e){return Td(!!e),Gd.fromTimestamp(function(e){var t=ip(e);return new Hd(t.seconds,t.nanos)}(e))}function Dm(e,t){return function(e){return new Xd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lm(e){var t=Xd.fromString(e);return Td(iy(t)),t}function Mm(e,t){return Dm(e.databaseId,t.path)}function jm(e,t){var n=Lm(t);if(n.get(1)!==e.databaseId.projectId)throw new Ad(Nd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ad(Nd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vp(zm(n))}function Fm(e,t){return Dm(e.databaseId,t)}function Um(e){var t=Lm(e);return 4===t.length?Xd.emptyPath():zm(t)}function Vm(e){return new Xd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zm(e){return Td(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bm(e,t,n){return{name:Mm(e,t),fields:n.value.mapValue.fields}}function qm(e,t,n){var r=jm(e,t.name),i=Rm(t.updateTime),a=new Op({mapValue:{fields:t.fields}}),o=Rp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Km(e,t){return"found"in t?function(e,t){Td(!!t.found),t.found.name,t.found.updateTime;var n=jm(e,t.found.name),r=Rm(t.found.updateTime),i=new Op({mapValue:{fields:t.found.fields}});return Rp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Td(!!t.missing),Td(!!t.readTime);var n=jm(e,t.missing),r=Rm(t.readTime);return Rp.newNoDocument(n,r)}(e,t):Ed()}function Wm(e,t){var n;if(t instanceof Wv)n={update:Bm(e,t.key,t.value)};else if(t instanceof Xv)n={delete:Mm(e,t.key)};else if(t instanceof Hv)n={update:Bm(e,t.key,t.data),updateMask:ry(t.fieldMask)};else{if(!(t instanceof Zv))return Ed();n={verify:Mm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Tv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Av)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pv)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ed()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ed()}(e,t.precondition)),n}function Hm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jv.updateTime(Rm(e.updateTime)):void 0!==e.exists?jv.exists(e.exists):jv.none()}(t.currentDocument):jv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Td("REQUEST_TIME"===t.setToServerValue),n=new Tv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Av(i)}else"increment"in t?n=new Pv(e,t.increment):Ed();var a=ep.fromServerFormat(t.fieldPath);return new Lv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jm(e,t.update.name),a=new Op({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new tp(t.map((function(e){return ep.fromServerFormat(e)})))}(t.updateMask);return new Hv(i,a,o,n,r)}return new Wv(i,a,n,r)}if(t.delete){var s=jm(e,t.delete);return new Xv(s,n)}if(t.verify){var u=jm(e,t.verify);return new Zv(u,n)}return Ed()}function Gm(e,t){return{documents:[Fm(e,t.path)]}}function Qm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Fm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Cp(e.value))return{unaryFilter:{field:Zm(e.field),op:"IS_NAN"}};if(Tp(e.value))return{unaryFilter:{field:Zm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cp(e.value))return{unaryFilter:{field:Zm(e.field),op:"IS_NOT_NAN"}};if(Tp(e.value))return{unaryFilter:{field:Zm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zm(e.field),op:Xm(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Zm(e.field),direction:Jm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||hp(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ym(e){var t=Um(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Td(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=$m(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Zp(ey(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return hp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Xp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Xp(n,t)}(n.endAt)),iv(t,i,s,o,u,"F",c,l)}function $m(e){return e?void 0!==e.unaryFilter?[ny(e)]:void 0!==e.fieldFilter?[ty(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return $m(e)})).reduce((function(e,t){return e.concat(t)})):Ed():[]}function Jm(e){return Tm[e]}function Xm(e){return Cm[e]}function Zm(e){return{fieldPath:e.canonicalString()}}function ey(e){return ep.fromServerFormat(e.fieldPath)}function ty(e){return qp.create(ey(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ed()}}(e.fieldFilter.op),e.fieldFilter.value)}function ny(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ey(e.unaryFilter.field);return qp.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ey(e.unaryFilter.field);return qp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ey(e.unaryFilter.field);return qp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ey(e.unaryFilter.field);return qp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ed()}}function ry(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function iy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ay(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=sy(t)),t=oy(e.get(n),t);return sy(t)}function oy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function sy(e){return e+"\x01\x01"}function uy(e){var t=e.length;if(Td(t>=2),2===t)return Td("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xd.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ed(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ed()}a=o+2}return new Xd(r)}var cy=ee((function e(t,n){X(this,e),this.seconds=t,this.nanoseconds=n})),ly=ee((function e(t,n,r){X(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ly.store="owner",ly.key="owner";var fy=ee((function e(t,n,r){X(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));fy.store="mutationQueues",fy.keyPath="userId";var hy=ee((function e(t,n,r,i,a){X(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));hy.store="mutations",hy.keyPath="batchId",hy.userMutationsIndex="userMutationsIndex",hy.userMutationsKeyPath=["userId","batchId"];var dy=function(){function e(){X(this,e)}return ee(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ay(t)]}},{key:"key",value:function(e,t,n){return[e,ay(t),n]}}]),e}();dy.store="documentMutations",dy.PLACEHOLDER=new dy;var py=ee((function e(t,n){X(this,e),this.path=t,this.readTime=n})),vy=ee((function e(t,n){X(this,e),this.path=t,this.version=n})),my=ee((function e(t,n,r,i,a,o){X(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));my.store="remoteDocuments",my.readTimeIndex="readTimeIndex",my.readTimeIndexPath="readTime",my.collectionReadTimeIndex="collectionReadTimeIndex",my.collectionReadTimeIndexPath=["parentPath","readTime"];var yy=ee((function e(t){X(this,e),this.byteSize=t}));yy.store="remoteDocumentGlobal",yy.key="remoteDocumentGlobalKey";var gy=ee((function e(t,n,r,i,a,o,s){X(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));gy.store="targets",gy.keyPath="targetId",gy.queryTargetsIndexName="queryTargetsIndex",gy.queryTargetsKeyPath=["canonicalId","targetId"];var ky=ee((function e(t,n,r){X(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));ky.store="targetDocuments",ky.keyPath=["targetId","path"],ky.documentTargetsIndex="documentTargetsIndex",ky.documentTargetsKeyPath=["path","targetId"];var wy=ee((function e(t,n,r,i){X(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));wy.key="targetGlobalKey",wy.store="targetGlobal";var by=ee((function e(t,n){X(this,e),this.collectionId=t,this.parent=n}));by.store="collectionParents",by.keyPath=["collectionId","parent"];var xy=ee((function e(t,n,r,i){X(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));xy.store="clientMetadata",xy.keyPath="clientId";var _y=ee((function e(t,n,r){X(this,e),this.bundleId=t,this.createTime=n,this.version=r}));_y.store="bundles",_y.keyPath="bundleId";var Iy=ee((function e(t,n,r){X(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Iy.store="namedQueries",Iy.keyPath="name";var Sy=ee((function e(t,n,r){X(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Sy.store="indexConfiguration",Sy.keyPath="indexId",Sy.collectionGroupIndex="collectionGroupIndex",Sy.collectionGroupIndexPath="collectionGroup";var Ey=ee((function e(t,n,r,i,a,o){X(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Ey.store="indexState",Ey.keyPath=["indexId","uid"],Ey.sequenceNumberIndex="sequenceNumberIndex",Ey.sequenceNumberIndexPath=["uid","sequenceNumber"];var Ty=ee((function e(t,n,r,i,a){X(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Ty.store="indexEntries",Ty.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Ty.documentKeyIndex="documentKeyIndex",Ty.documentKeyIndexPath=["indexId","uid","documentKey"];var Cy=ee((function e(t,n,r,i,a,o){X(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Cy.store="documentOverlays",Cy.keyPath=["userId","collectionPath","documentId"],Cy.collectionPathOverlayIndex="collectionPathOverlayIndex",Cy.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Cy.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Cy.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Ny=[fy.store,hy.store,dy.store,my.store,gy.store,ly.store,wy.store,ky.store].concat([xy.store]).concat([yy.store]).concat([by.store]).concat([_y.store,Iy.store]),Ay=[].concat(ze(Ny),[Cy.store]),Oy=[].concat(ze(Ay),[Sy.store,Ey.store,Ty.store]),Py="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ry=function(){function e(){X(this,e),this.onCommittedListeners=[]}return ee(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Dy=function(){function e(t){var n=this;X(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ee(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ed(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=te(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Ly=function(){function e(t,n){var r=this;X(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Od,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Fy(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=qy(e.target.error);r.At.reject(new Fy(t,n))}}return ee(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(xd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Vy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fy(n,t)}}}]),e}(),My=function(){function e(t,n,r){X(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(ke())&&_d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ee(e,[{key:"xt",value:function(){var e=qe(We().mark((function e(t){var n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return xd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ad(Nd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ad(Nd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fy(t,n))},i.onupgradeneeded=function(e){xd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){xd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=qe(We().mark((function e(t,n,r,i){var a,o,s,u,c=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(We().mark((function e(){var n,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Ly.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Dy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,xd("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return xd("SimpleDb","Removing database:",e),zy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Se())return!1;if(e.St())return!0;var t=ke(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/amazon-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jy=function(){function e(t){X(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return ee(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return zy(this.$t.delete())}}]),e}(),Fy=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,Nd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ee(n)}(Ad);function Uy(e){return"IndexedDbTransactionError"===e.name}var Vy=function(){function e(t){X(this,e),this.store=t}return ee(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(xd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zy(n)}},{key:"add",value:function(e){return xd("SimpleDb","ADD",this.store.name,e,e),zy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return xd("SimpleDb","DELETE",this.store.name,e),zy(this.store.delete(e))}},{key:"count",value:function(){return xd("SimpleDb","COUNT",this.store.name),zy(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){xd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Dy((function(n,r){t.onerror=function(e){var t=qy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Dy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jy(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dy){var s=o.catch((function(e){return a.done(),Dy.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Dy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zy(e){return new Dy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qy(e.target.error);n(t)}}))}var By=!1;function qy(e){var t=My.vt(ke());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ad("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return By||(By=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ky=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return ee(n)}(Ry);function Wy(e,t){var n=Cd(e);return My.Nt(n.zt,t)}var Hy=function(){function e(t,n,r,i){X(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ee(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=te(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&zv(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=te(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&zv(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Gd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),vm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,(function(e,t){return qv(e,t)}))&&Kd(this.baseMutations,e.baseMutations,(function(e,t){return qv(e,t)}))}}]),e}(),Gy=function(){function e(t,n,r,i){X(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ee(e,null,[{key:"from",value:function(t,n,r){Td(t.mutations.length===r.length);for(var i=dm,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Qy=function(){function e(t,n){X(this,e),this.largestBatchId=t,this.mutation=n}return ee(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Yy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gd.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:np.EMPTY_BYTE_STRING;X(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ee(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$y=ee((function e(t){X(this,e),this.Ht=t}));function Jy(e,t){var n;if(t.document)n=qm(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=vp.fromSegments(t.noDocument.path),i=ng(t.noDocument.readTime);n=Rp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ed();var a=vp.fromSegments(t.unknownDocument.path),o=ng(t.unknownDocument.version);n=Rp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(eg(t.readTime)),n}function Xy(e,t){var n=Zy(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Mm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Am(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new my(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),s=tg(t.version),u=t.hasCommittedMutations;return new my(null,new py(o,s),null,u,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=tg(t.version);return new my(new vy(c,l),null,null,!0,n,r)}return Ed()}function Zy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function eg(e){var t=new Hd(e[0],e[1]);return Gd.fromTimestamp(t)}function tg(e){var t=e.toTimestamp();return new cy(t.seconds,t.nanoseconds)}function ng(e){var t=new Hd(e.seconds,e.nanoseconds);return Gd.fromTimestamp(t)}function rg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hm(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Hm(e.Ht,t)})),s=Hd.fromMillis(t.localWriteTimeMs);return new Hy(t.batchId,s,n,o)}function ig(e){var t,n,r=ng(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ng(e.lastLimboFreeSnapshotVersion):Gd.min();return void 0!==e.query.documents?(Td(1===(n=e.query).documents.length),t=hv(av(Um(n.documents[0])))):t=function(e){return hv(Ym(e))}(e.query),new Yy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,np.fromBase64String(e.resumeToken))}function ag(e,t){var n,r=tg(t.snapshotVersion),i=tg(t.lastLimboFreeSnapshotVersion);n=Bp(t.target)?Gm(e.Ht,t.target):Qm(e.Ht,t.target);var a=t.resumeToken.toBase64();return new gy(t.targetId,Vp(t.target),r,a,t.sequenceNumber,i,n)}function og(e){var t=Ym({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dv(t,t.limit,"L"):t}function sg(e,t){return new Qy(t.largestBatchId,Hm(e.Ht,t.overlayMutation))}function ug(e,t){var n=t.path.lastSegment();return[e,ay(t.path.popLast()),n]}var cg=function(){function e(){X(this,e)}return ee(e,[{key:"getBundleMetadata",value:function(e,t){return lg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ng(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return lg(e).put({bundleId:(n=t).id,createTime:tg(Rm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return fg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:og(t.bundledQuery),readTime:ng(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return fg(e).put(function(e){return{name:e.name,readTime:tg(Rm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function lg(e){return Wy(e,_y.store)}function fg(e){return Wy(e,Iy.store)}var hg=function(){function e(t,n){X(this,e),this.O=t,this.userId=n}return ee(e,[{key:"getOverlay",value:function(e,t){var n=this;return dg(e).get(ug(this.userId,t)).next((function(e){return e?sg(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new Qy(t,n);i.push(r.Yt(e,a))})),Dy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ay(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(dg(e).Gt(Cy.collectionPathOverlayIndex,i))})),Dy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=ay(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return dg(e).qt(Cy.collectionPathOverlayIndex,o).next((function(e){var t,n=te(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=sg(r.O,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dg(e).Qt({index:Cy.collectionGroupOverlayIndex,range:s},(function(e,t,n){var s=sg(a.O,t);o.size<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return dg(e).put(function(e,t,n){var r=u(ug(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Cy(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,Wm(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function dg(e){return Wy(e,Cy.store)}var pg=function(){function e(){X(this,e)}return ee(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ap(e.integerValue));else if("doubleValue"in e){var n=ap(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),dp(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(op(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?gp(e,mp)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Ed()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),vp.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function vg(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function mg(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=vg(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}pg.le=new pg;var yg=function(){function e(){X(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ee(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=te(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=te(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=mg(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=mg(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),gg=function(){function e(t){X(this,e),this.Se=t}return ee(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),kg=function(){function e(t){X(this,e),this.Se=t}return ee(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),wg=function(){function e(){X(this,e),this.Se=new yg,this.De=new gg(this.Se),this.Ce=new kg(this.Se)}return ee(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),bg=ee((function e(t,n,r,i){X(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function xg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=vp.comparator(e.documentKey,t.documentKey))?n:0!==(n=_g(e.arrayValue,t.arrayValue))?n:_g(e.directionalValue,t.directionalValue)}function _g(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ig=function(){function e(){X(this,e),this.xe=new Sg}return ee(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Dy.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dy.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Dy.resolve(vm())}},{key:"getFieldIndex",value:function(e,t){return Dy.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Dy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dy.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Dy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dy.resolve()}}]),e}(),Sg=function(){function e(){X(this,e),this.index={}}return ee(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new om(Xd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new om(Xd.comparator)).toArray()}}]),e}(),Eg=function(){function e(t){X(this,e),this.user=t,this.ke=new Sg,this.uid=t.uid||""}return ee(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:ay(i)};return Tg(e).put(a)}return Dy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Wd(t),""],!1,!0);return Tg(e).qt(r).next((function(e){var r,i=te(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(uy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Ng(e),r=function(e){return new Sy(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ng(e),r=Ag(e),i=Cg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Dy.resolve(vm())}},{key:"getFieldIndex",value:function(e,t){return Dy.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new wg,i=te(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);pg.le.Xt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new wg;return pg.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ng(e),i=Ag(e);return(t?r.qt(Sy.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Dy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Mp(t.sequenceNumber,new jp(ng(t.readTime),new vp(uy(t.documentKey)),t.largestBatchId)):Mp.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new Lp(ep.fromServerFormat(n),r)}));return new Dp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ng(e),a=Ag(e);return this.$e(e).next((function(e){return i.qt(Sy.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Dy.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Ey(e,t.uid||"",n,tg(r.readTime),ay(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dy.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Dy.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Cg(e).put(new Ty(n.indexId,this.uid,n.arrayValue,n.directionalValue,ay(t.key.path)))}},{key:"qe",value:function(e,t,n){return Cg(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,ay(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Cg(e),i=new om(xg);return r.Qt({index:Ty.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,ay(t.path)])},(function(e,r){i=i.add(new bg(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new om(xg),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ep(a)){var o,s=te(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new bg(t.indexId,e.key,this.Me(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new bg(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;xd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=um(a),u=um(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=um(o)):l?(i(s),s=um(a)):(s=um(a),u=um(o))}}(n,r,xg,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Dy.waitFor(a)}},{key:"$e",value:function(e){var t=1;return Ag(e).Qt({index:Ey.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Tg(e){return Wy(e,by.store)}function Cg(e){return Wy(e,Ty.store)}function Ng(e){return Wy(e,Sy.store)}function Ag(e){return Wy(e,Ey.store)}var Og={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pg=function(){function e(t,n,r){X(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ee(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Rg(e,t,n){var r=e.store(hy.store),i=e.store(dy.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Qt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Td(1===s)})));var c,l=[],f=te(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=dy.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Dy.waitFor(a).next((function(){return l}))}function Dg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ed();t=e.noDocument}return JSON.stringify(t).length}Pg.DEFAULT_COLLECTION_PERCENTILE=10,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pg.DEFAULT=new Pg(41943040,Pg.DEFAULT_COLLECTION_PERCENTILE,Pg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pg.DISABLED=new Pg(-1,0,0);var Lg=function(){function e(t,n,r,i){X(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return ee(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jg(e).Qt({index:hy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Fg(e),o=jg(e);return o.add({}).next((function(s){Td("number"==typeof s);var u,c=new Hy(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Wm(e.Ht,t)})),i=n.mutations.map((function(t){return Wm(e.Ht,t)}));return new hy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new om((function(e,t){return qd(e.canonicalString(),t.canonicalString())})),d=te(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=dy.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,dy.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[s]=c.keys()})),Dy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return jg(e).get(t).next((function(e){return e?(Td(e.userId===n.userId),rg(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Dy.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return jg(e).Qt({index:hy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Td(t.batchId>=r),a=rg(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jg(e).Qt({index:hy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jg(e).qt(hy.userMutationsIndex,n).next((function(e){return e.map((function(e){return rg(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dy.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Fg(e).Qt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=uy(l);if(c===n.userId&&t.path.isEqual(h))return jg(e).get(f).next((function(e){if(!e)throw Ed();Td(e.userId===n.userId),a.push(rg(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new om(qd),i=[];return t.forEach((function(t){var a=dy.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Fg(e).Qt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=uy(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Dy.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=dy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new om(qd);return Fg(e).Qt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=uy(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(jg(e).get(t).next((function(e){if(null===e)throw Ed();Td(e.userId===n.userId),r.push(rg(n.O,e))})))})),Dy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Rg(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Dy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dy.resolve();var r=IDBKeyRange.lowerBound(dy.prefixForUser(t.userId)),i=[];return Fg(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=uy(e[1]);i.push(a)}else r.done()})).next((function(){Td(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Mg(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return Ug(e).get(this.userId).next((function(e){return e||new fy(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Td(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Mg(e,t,n){var r=dy.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Fg(e).Qt({range:a,jt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function jg(e){return Wy(e,hy.store)}function Fg(e){return Wy(e,dy.store)}function Ug(e){return Wy(e,fy.store)}var Vg=function(){function e(t){X(this,e),this.ze=t}return ee(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),zg=function(){function e(t,n){X(this,e),this.referenceDelegate=t,this.O=n}return ee(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new Vg(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return Gd.fromTimestamp(new Hd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Bg(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Td(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Bg(e).Qt((function(o,s){var u=ig(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Dy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Bg(e).Qt((function(e,n){var r=ig(n);t(r)}))}},{key:"Ye",value:function(e){return qg(e).get(wy.key).next((function(e){return Td(null!==e),e}))}},{key:"Xe",value:function(e,t){return qg(e).put(wy.key,t)}},{key:"Ze",value:function(e,t){return Bg(e).put(ag(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bg(e).Qt({range:r,index:gy.queryTargetsIndexName},(function(e,n,r){var a=ig(n);zp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Kg(e);return t.forEach((function(t){var o=ay(t.path);i.push(a.put(new ky(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Dy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Kg(e);return Dy.forEach(t,(function(t){var a=ay(t.path);return Dy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Kg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Kg(e),i=vm();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=uy(e[1]),a=new vp(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ay(t.path),r=IDBKeyRange.bound([n],[Wd(n)],!1,!0),i=0;return Kg(e).Qt({index:ky.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return Bg(e).get(t).next((function(e){return e?ig(e):null}))}}]),e}();function Bg(e){return Wy(e,gy.store)}function qg(e){return Wy(e,wy.store)}function Kg(e){return Wy(e,ky.store)}function Wg(e){return Hg.apply(this,arguments)}function Hg(){return Hg=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Nd.FAILED_PRECONDITION&&t.message===Py){e.next=2;break}throw t;case 2:xd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Gg(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=qd(r,o);return 0===c?qd(i,s):c}var Qg=function(){function e(t){X(this,e),this.en=t,this.buffer=new om(Gg),this.nn=0}return ee(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Gg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Yg=function(){function e(t,n){X(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return ee(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;xd("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Uy(n.t0)){n.next=12;break}xd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Wg(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),$g=function(){function e(t,n){X(this,e),this.an=t,this.params=n}return ee(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dy.resolve(Vd.A);var r=new Qg(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xd("LruGarbageCollector","Garbage collection skipped; disabled"),Dy.resolve(Og)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Og):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(xd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),bd()<=$e.DEBUG&&xd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Dy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Jg=function(){function e(t,n){X(this,e),this.db=t,this.garbageCollector=function(e,t){return new $g(e,t)}(this,n)}return ee(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Xg(e,n)}},{key:"removeReference",value:function(e,t,n){return Xg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Xg(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return Ug(e).Wt((function(r){return Mg(e,r,t).next((function(e){return e&&(n=!0),Dy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,s){if(s<=t){var u=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Gd.min()),Kg(e).delete([0,ay(o.path)])}))}));i.push(u)}})).next((function(){return Dy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Xg(e,t)}},{key:"_n",value:function(e,t){var n,r=Kg(e),i=Vd.A;return r.Qt({index:ky.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Vd.A&&t(new vp(uy(n)),i),i=c,n=s):i=Vd.A})).next((function(){i!==Vd.A&&t(new vp(uy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Xg(e,t){return Kg(e).put(function(e,t){return new ky(0,ay(e.path),t)}(t,e.currentSequenceNumber))}var Zg=function(){function e(t,n){X(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return ee(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Yd(this.inner,(function(t,n){var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $d(this.inner)}}]),e}(),ek=function(){function e(){X(this,e),this.changes=new Zg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ee(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Rp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),tk=function(){function e(t){X(this,e),this.O=t}return ee(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ik(e).put(ak(t),n)}},{key:"removeEntry",value:function(e,t){var n=ik(e),r=ak(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return ik(e).get(ak(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return ik(e).get(ak(t)).next((function(e){return{document:n.gn(t,e),size:Dg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=lm();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=lm(),i=new rm(vp.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Dg(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Dy.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return ik(e).Qt({range:r},(function(e,t,r){for(var o=vp.fromSegments(e);a&&vp.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=lm(),a=t.length+1,o={};if(n.isEqual(Gd.min())){var s=t.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.toArray(),c=Zy(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=my.collectionReadTimeIndex}return ik(e).Qt(o,(function(e,n,o){if(e.length===a){var s=r.gn(vp.fromSegments(e),n);t.isPrefixOf(s.key.path)?i=i.insert(s.key,s):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new nk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return rk(e).get(yy.key).next((function(e){return Td(!!e),e}))}},{key:"mn",value:function(e,t){return rk(e).put(yy.key,t)}},{key:"gn",value:function(e,t){if(t){var n=Jy(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(Gd.min()))return n}return Rp.newInvalidDocument(e)}}]),e}(),nk=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new Zg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ee(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new om((function(e,t){return qd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.An.get(a);if(o.isValidDocument()){var u=Xy(t.Tn.O,o);i=i.add(a.path.popLast());var c=Dg(u);r+=c-s,n.push(t.Tn.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Xy(t.Tn.O,o.convertToNoDocument(Gd.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Dy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(ek);function rk(e){return Wy(e,yy.store)}function ik(e){return Wy(e,my.store)}function ak(e){return e.path.toArray()}var ok=function(){function e(t){X(this,e),this.O=t}return ee(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Ly("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ly.store)}(e),function(e){e.createObjectStore(fy.store,{keyPath:fy.keyPath}),e.createObjectStore(hy.store,{keyPath:hy.keyPath,autoIncrement:!0}).createIndex(hy.userMutationsIndex,hy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(dy.store)}(e),sk(e),function(e){e.createObjectStore(my.store)}(e));var o=Dy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ky.store),e.deleteObjectStore(gy.store),e.deleteObjectStore(wy.store)}(e),sk(e)),o=o.next((function(){return function(e){var t=e.store(wy.store),n=new wy(0,0,Gd.min().toTimestamp(),0);return t.put(wy.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(hy.store).qt().next((function(n){e.deleteObjectStore(hy.store),e.createObjectStore(hy.store,{keyPath:hy.keyPath,autoIncrement:!0}).createIndex(hy.userMutationsIndex,hy.userMutationsKeyPath,{unique:!0});var r=t.store(hy.store),i=n.map((function(e){return r.put(e)}));return Dy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(xy.store,{keyPath:xy.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(yy.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(my.store);t.createIndex(my.readTimeIndex,my.readTimeIndexPath,{unique:!1}),t.createIndex(my.collectionReadTimeIndex,my.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(_y.store,{keyPath:_y.keyPath})}(e),function(e){e.createObjectStore(Iy.store,{keyPath:Iy.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Cy.store,{keyPath:Cy.keyPath});t.createIndex(Cy.collectionPathOverlayIndex,Cy.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Cy.collectionGroupOverlayIndex,Cy.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Sy.store,{keyPath:Sy.keyPath,autoIncrement:!0}).createIndex(Sy.collectionGroupIndex,Sy.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Ey.store,{keyPath:Ey.keyPath}).createIndex(Ey.sequenceNumberIndex,Ey.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Ty.store,{keyPath:Ty.keyPath}).createIndex(Ty.documentKeyIndex,Ty.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(my.store).Qt((function(e,n){t+=Dg(n)})).next((function(){var n=new yy(t);return e.store(yy.store).put(yy.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(fy.store),r=e.store(hy.store);return n.qt().next((function(n){return Dy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(hy.userMutationsIndex,i).next((function(r){return Dy.forEach(r,(function(r){Td(r.userId===n.userId);var i=rg(t.O,r);return Rg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(ky.store),n=e.store(my.store);return e.store(wy.store).get(wy.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new Xd(n),o=function(e){return[0,ay(e)]}(a);r.push(t.get(o).next((function(n){return n?Dy.resolve():function(n){return t.put(new ky(0,ay(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Dy.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(by.store,{keyPath:by.keyPath});var n=t.store(by.store),r=new Sg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ay(i)})}};return t.store(my.store).Qt({jt:!0},(function(e,t){var n=new Xd(e);return i(n.popLast())})).next((function(){return t.store(dy.store).Qt({jt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],uy(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(gy.store);return n.Qt((function(e,r){var i=ig(r),a=ag(t.O,i);return n.put(a)}))}}]),e}();function sk(e){e.createObjectStore(ky.store,{keyPath:ky.keyPath}).createIndex(ky.documentTargetsIndex,ky.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(gy.store,{keyPath:gy.keyPath}).createIndex(gy.queryTargetsIndexName,gy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wy.store)}var uk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ck=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(X(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=s,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Ad(Nd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jg(this,i),this.Bn=n+"main",this.O=new $y(u),this.Ln=new My(this.Bn,this.schemaVersion,new ok(this.O)),this.Un=new zg(this.referenceDelegate,this.O),this.qn=function(e){return new tk(e)}(this.O),this.Kn=new cg,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&_d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ee(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ad(Nd.FAILED_PRECONDITION,uk);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new Vd(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=qe(We().mark((function n(r){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=qe(We().mark((function t(n){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return fk(t).put(new xy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(Uy(t))return xd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return lk(e).get(ly.key).next((function(e){return Dy.resolve(t.ts(e))}))}},{key:"es",value:function(e){return fk(e).delete(this.clientId)}},{key:"ns",value:function(){var e=qe(We().mark((function e(){var t,n,r,i,a=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wy(e,xy.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=te(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Dy.resolve(!0):lk(e).get(ly.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Ad(Nd.FAILED_PRECONDITION,uk);return!1}}return!(!t.networkEnabled||!t.inForeground)||fk(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=qe(We().mark((function e(){var t=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[ly.store,xy.store],(function(e){var n=new Ky(e,Vd.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return fk(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Lg.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Eg(e)}},{key:"getDocumentOverlayCache",value:function(e){return hg.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;xd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=13===(i=this.schemaVersion)?Oy:12===i?Ay:11===i?Ny:void Ed();return this.Ln.runTransaction(e,o,s,(function(i){return a=new Ky(i,r.Nn?r.Nn.next():Vd.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw _d("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Ad(Nd.FAILED_PRECONDITION,Py);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return lk(e).get(ly.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ad(Nd.FAILED_PRECONDITION,uk)}))}},{key:"Zn",value:function(e){var t=new ly(this.clientId,this.allowTabSynchronization,Date.now());return lk(e).put(ly.key,t)}},{key:"Xn",value:function(e){var t=this,n=lk(e);return n.get(ly.key).next((function(e){return t.ts(e)?(xd("IndexedDbPersistence","Releasing primary lease."),n.delete(ly.key)):Dy.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(_d("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return xd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return _d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(yc){_d("Failed to set zombie client id.",yc)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(yc){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return My.Vt()}}]),e}();function lk(e){return Wy(e,ly.store)}function fk(e){return Wy(e,xy.store)}function hk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dk=ee((function e(t,n){X(this,e),this.progress=t,this.ws=n})),pk=function(){function e(t,n,r){X(this,e),this.qn=t,this.gs=n,this.indexManager=r}return ee(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=te(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=te(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return vp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):lv(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new vp(t)).next((function(e){var t=hm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=hm();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dy.forEach(o,(function(o){var s=function(e,t){return new rv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=te(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=te(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Rp.newInvalidDocument(u),r=r.insert(u,c)),zv(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){yv(t,n)||(r=r.remove(e))})),r}))}}]),e}(),vk=function(){function e(t,n,r,i){X(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return ee(e,null,[{key:"Ss",value:function(t,n){var r,i=vm(),a=vm(),o=te(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mk=function(){function e(){X(this,e)}return ee(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Gd.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(ov(t)||sv(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(bd()<=$e.DEBUG&&xd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),mv(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new om(gv(e));return t.forEach((function(t,r){yv(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return bd()<=$e.DEBUG&&xd("QueryEngine","Using full collection scan to execute query:",mv(t)),this.Cs.As(e,t,Gd.min())}}]),e}(),yk=function(){function e(t,n,r,i){X(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new rm(qd),this.$s=new Zg((function(e){return Vp(e)}),zp),this.Fs=Gd.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return ee(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new pk(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function gk(e,t,n,r){return new yk(e,t,n,r)}function kk(e,t){return wk.apply(this,arguments)}function wk(){return wk=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=vm(),u=te(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=te(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=te(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=te(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,s).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function bk(e,t){var n=Cd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Td(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function xk(e){var t=Cd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function _k(e,t){var n=Cd(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(np.EMPTY_BYTE_STRING,Gd.min()).withLastLimboFreeSnapshotVersion(Gd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var s=lm();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ik(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Gd.min())){var u=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Dy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,s)})).next((function(){return s}))})).then((function(e){return n.Ms=i,e}))}function Ik(e,t,n){var r=vm();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=lm();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Gd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):xd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Sk(e,t){var n=Cd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Ek(e,t){var n=Cd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Dy.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Yy(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Tk(e,t,n){return Ck.apply(this,arguments)}function Ck(){return Ck=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cd(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uy(e.t1)){e.next=12;break}throw e.t1;case 12:xd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ck.apply(this,arguments)}function Nk(e,t,n){var r=Cd(e),i=Gd.min(),a=vm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cd(e),i=r.$s.get(n);return void 0!==i?Dy.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,hv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:Gd.min(),n?a:vm())})).next((function(e){return{documents:e,Ks:a}}))}))}function Ak(e,t){var n=Cd(e),r=Cd(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Ok(e){var t=Cd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Cd(e),i=lm(),a=Zy(n),o=ik(t),s=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:my.readTimeIndex,range:s},(function(e,t){var n=Jy(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:eg(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Pk(e){return Rk.apply(this,arguments)}function Rk(){return Rk=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cd(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ik(e),n=Gd.min();return t.Qt({index:my.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=eg(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Dk(e,t,n,r){return Lk.apply(this,arguments)}function Lk(){return Lk=qe(We().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Cd(t),o=vm(),s=lm(),u=te(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Ek(a,function(e){return hv(av(Xd.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ik(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e,t){return jk.apply(this,arguments)}function jk(){return jk=qe(We().mark((function e(t,n){var r,i,a,o=arguments;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:vm(),e.next=3,Ek(t,hv(og(n.bundledQuery)));case 3:return i=e.sent,a=Cd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Rm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(np.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}var Fk=function(){function e(t){X(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return ee(e,[{key:"getBundleMetadata",value:function(e,t){return Dy.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Rm(n.createTime)}),Dy.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dy.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:og(e.bundledQuery),readTime:Rm(e.readTime)}}(t)),Dy.resolve()}}]),e}(),Uk=function(){function e(){X(this,e),this.overlays=new rm(vp.comparator),this.Hs=new Map}return ee(e,[{key:"getOverlay",value:function(e,t){return Dy.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Dy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Dy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new vp(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Dy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new rm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=new Map,i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(t,e)})),!(u.size>=r)););return Dy.resolve(u)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Qy(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Vk=function(){function e(){X(this,e),this.Js=new om(zk.Ys),this.Xs=new om(zk.Zs)}return ee(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zk(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new zk(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new vp(new Xd([])),r=new zk(n,e),i=new zk(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new vp(new Xd([])),n=new zk(t,e),r=new zk(t,e+1),i=vm();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zk(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zk=function(){function e(t,n){X(this,e),this.key=t,this.oi=n}return ee(e,null,[{key:"Ys",value:function(e,t){return vp.comparator(e.key,t.key)||qd(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return qd(e.oi,t.oi)||vp.comparator(e.key,t.key)}}]),e}(),Bk=function(){function e(t,n){X(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new om(zk.Ys)}return ee(e,[{key:"checkEmpty",value:function(e){return Dy.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Hy(i,t,n,r);this.gs.push(a);var o,s=te(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ui=this.ui.add(new zk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Dy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dy.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Dy.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dy.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Dy.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zk(t,0),i=new zk(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Dy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new om(qd);return t.forEach((function(e){var t=new zk(e,0),i=new zk(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Dy.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;vp.isDocumentKey(i)||(i=i.child(""));var a=new zk(new vp(i),0),o=new om(qd);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Dy.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Td(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Dy.forEach(t.mutations,(function(i){var a=new zk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zk(t,0),r=this.ui.firstAfterOrEqual(n);return Dy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Dy.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),qk=function(){function e(t){X(this,e),this.di=t,this.docs=new rm(vp.comparator),this.size=0}return ee(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dy.resolve(n?n.document.mutableCopy():Rp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=lm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Rp.newInvalidDocument(e))})),Dy.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=lm(),i=new vp(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||u.readTime.compareTo(n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Dy.resolve(r)}},{key:"_i",value:function(e,t){return Dy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Kk(this)}},{key:"getSize",value:function(e){return Dy.resolve(this.size)}}]),e}(),Kk=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).Tn=e,r}return ee(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Dy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(ek),Wk=function(){function e(t){X(this,e),this.persistence=t,this.wi=new Zg((function(e){return Vp(e)}),zp),this.lastRemoteSnapshotVersion=Gd.min(),this.highestTargetId=0,this.mi=0,this.gi=new Vk,this.targetCount=0,this.yi=Vg.He()}return ee(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Dy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dy.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Dy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Dy.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new Vg(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Dy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Dy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Dy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Dy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Dy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Dy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Dy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Dy.resolve(n)}},{key:"containsKey",value:function(e,t){return Dy.resolve(this.gi.containsKey(t))}}]),e}(),Hk=function(){function e(t,n){var r=this;X(this,e),this.pi={},this.overlays={},this.Nn=new Vd(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Wk(this),this.indexManager=new Ig,this.qn=new qk((function(e){return r.referenceDelegate.Ii(e)})),this.O=new $y(n),this.Kn=new Fk(this.O)}return ee(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Uk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Bk(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;xd("MemoryPersistence","Starting transaction:",e);var i=new Gk(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Dy.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Gk=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ee(n)}(Ry),Qk=function(){function e(t){X(this,e),this.persistence=t,this.Ri=new Vk,this.Pi=null}return ee(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Ed()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Dy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Dy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Dy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dy.forEach(this.vi,(function(r){var i=vp.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,Gd.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Dy.or([function(){return Dy.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function Yk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $k(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Jk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Xk=function(){function e(t,n,r,i){X(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ee(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ad(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(_d("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Zk=function(){function e(t,n,r){X(this,e),this.targetId=t,this.state=n,this.error=r}return ee(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ad(i.error.code,i.error.message))),a?new e(t,i.state,r):(_d("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ew=function(){function e(t,n){X(this,e),this.clientId=t,this.activeTargetIds=n}return ee(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ym(),o=0;i&&o<r.activeTargetIds.length;++o)i=pp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(_d("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),tw=function(){function e(t,n){X(this,e),this.clientId=t,this.onlineState=n}return ee(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(_d("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),nw=function(){function e(){X(this,e),this.activeTargetIds=ym()}return ee(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),rw=function(){function e(t,n,r,i,a){X(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new rm(qd),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=Yk(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new nw),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return ee(e,[{key:"start",value:function(){var e=qe(We().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=te(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Yk(this.persistenceKey,i)))&&(o=ew.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(s=this.storage.getItem(this.Ki))&&(u=this.Qi(s))&&this.Wi(u),c=te(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Jk(this.persistenceKey,e));if(n){var r=Zk.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Jk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return xd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){xd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){xd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void _d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(qe(We().mark((function e(){var r,i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(s));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}u=function(e){var t=Vd.A;if(null!=e)try{var n=JSON.parse(e);Td("number"==typeof n),t=n}catch(e){_d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Vd.A&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new Xk(this.currentUser,e,t,n),i=$k(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=$k(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=Jk(this.persistenceKey,e),i=new Zk(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return ew.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xk.Si(new gd(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return Zk.Si(r,t)}},{key:"Qi",value:function(e){return tw.Si(e)}},{key:"rr",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:xd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.dr(o,s).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=ym();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),iw=function(){function e(){X(this,e),this._r=new nw,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ee(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new nw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),aw=function(){function e(){X(this,e)}return ee(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ow=function(){function e(){var t=this;X(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return ee(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){xd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=te(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){xd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=te(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uw=function(){function e(t){X(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return ee(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),cw=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ee(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new md;o.listenOnce(fd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ld.NO_ERROR:var t=o.getResponseJson();xd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ld.TIMEOUT:xd("Connection",'RPC "'+e+'" timed out'),a(new Ad(Nd.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:var n=o.getStatus();if(xd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nd).indexOf(t)>=0?t:Nd.UNKNOWN}(r.status);a(new Ad(s,r.message))}else a(new Ad(Nd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ad(Nd.UNAVAILABLE,"Connection failed."));break;default:Ed()}}finally{xd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ud(),a=cd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pd({})),this.Fr(o.initMessageHeaders,t,n),we()||_e()||ke().indexOf("Electron/")>=0||Ie()||ke().indexOf("MSAppHost/")>=0||xe()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");xd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new uw({Ar:function(e){l?xd("Connection","Not sending because WebChannel is closed:",e):(c||(xd("Connection","Opening WebChannel transport."),u.open(),c=!0),xd("Connection","WebChannel sending:",e),u.send(e))},Rr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,vd.EventType.OPEN,(function(){l||xd("Connection","WebChannel transport opened.")})),h(u,vd.EventType.CLOSE,(function(){l||(l=!0,xd("Connection","WebChannel transport closed"),f.Cr())})),h(u,vd.EventType.ERROR,(function(e){l||(l=!0,Id("Connection","WebChannel transport errored:",e),f.Cr(new Ad(Nd.UNAVAILABLE,"The operation could not be completed")))})),h(u,vd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Td(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){xd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=$v[e];if(void 0!==t)return nm(t)}(a),s=i.message;void 0===o&&(o=Nd.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Ad(o,s)),u.close()}else xd("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,hd.STAT_EVENT,(function(e){e.stat===dd.PROXY?xd("Connection","Detected buffering proxy"):e.stat===dd.NOPROXY&&xd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){X(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ee(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);xd("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return xd("RestConnection","Received: ",e),e}),(function(t){throw Id("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=sw[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function lw(){return"undefined"!=typeof window?window:null}function fw(){return"undefined"!=typeof document?document:null}function hw(e){return new Nm(e,!0)}var dw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;X(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return ee(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&xd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),pw=function(){function e(t,n,r,i,a,o,s,u){X(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new dw(t,n)}return ee(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Nd.RESOURCE_EXHAUSTED?(_d(n.toString()),_d("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Nd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Ad(Nd.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return xd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(xd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),vw=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return X(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).O=o,u}return ee(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ed()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Td(void 0===t||"string"==typeof t),np.fromBase64String(t||"")):(Td(void 0===t||t instanceof Uint8Array),np.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Nd.UNKNOWN:nm(e.code);return new Ad(t,e.message||"")}(o);n=new xm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=jm(e,u.document.name),l=Rm(u.document.updateTime),f=new Op({mapValue:{fields:u.document.fields}}),h=Rp.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new wm(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=jm(e,v.document),y=v.readTime?Rm(v.readTime):Gd.min(),g=Rp.newNoDocument(m,y),k=v.removedTargetIds||[];n=new wm([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=jm(e,w.document),x=w.removedTargetIds||[];n=new wm([],x,b,null)}else{if(!("filter"in t))return Ed();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new em(I),E=_.targetId;n=new bm(E,S)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Gd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Gd.min():t.readTime?Rm(t.readTime):Gd.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=Vm(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=Bp(r)?{documents:Gm(e,r)}:{query:Qm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Om(e,t.resumeToken):t.snapshotVersion.compareTo(Gd.min())>0&&(n.readTime=Am(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ed()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=Vm(this.O),t.removeTarget=e,this.fo(t)}}]),n}(pw),mw=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return X(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).O=o,u.Po=!1,u}return ee(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,Bt(ae(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Td(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Td(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Rm(e.updateTime):Rm(t);return n.isEqual(Gd.min())&&(n=Rm(t)),new Mv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Rm(e.commitTime);return this.listener.Vo(n,t)}return Td(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=Vm(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wm(t.O,e)}))};this.fo(n)}}]),n}(pw),yw=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a){var o;return X(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return ee(n,[{key:"No",value:function(){if(this.Co)throw new Ad(Nd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.eo.Mr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ad(Nd.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.eo.Lr(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ad(Nd.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return ee((function e(){X(this,e)}))}()),gw=function(){function e(t,n){X(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return ee(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(_d(t),this.Oo=!1):xd("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),kw=ee((function e(t,n,r,i,a){var o=this;X(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Aw(o),!e.t0){e.next=5;break}return xd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cd(t)).Ko.add(4),e.next=4,xw(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,ww(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new gw(r,i)}));function ww(e){return bw.apply(this,arguments)}function bw(){return bw=qe(We().mark((function e(t){var n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Aw(t)){e.next=18;break}n=te(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),bw.apply(this,arguments)}function xw(e){return _w.apply(this,arguments)}function _w(){return _w=qe(We().mark((function e(t){var n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=te(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),_w.apply(this,arguments)}function Iw(e,t){var n=Cd(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Nw(n)?Cw(n):ab(n).co()&&Ew(n,t))}function Sw(e,t){var n=Cd(e),r=ab(n);n.qo.delete(t),r.co()&&Tw(n,t),0===n.qo.size&&(r.co()?r.ho():Aw(n)&&n.Qo.set("Unknown"))}function Ew(e,t){e.Wo.Z(t.targetId),ab(e).Ao(t)}function Tw(e,t){e.Wo.Z(t),ab(e).Ro(t)}function Cw(e){e.Wo=new Im({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),ab(e).start(),e.Qo.Mo()}function Nw(e){return Aw(e)&&!ab(e).oo()&&e.qo.size>0}function Aw(e){return 0===Cd(e).Ko.size}function Ow(e){e.Wo=void 0}function Pw(e){return Rw.apply(this,arguments)}function Rw(){return Rw=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Ew(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Rw.apply(this,arguments)}function Dw(e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ow(t),Nw(t)?(t.Qo.Bo(n),Cw(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Mw(e,t,n){return jw.apply(this,arguments)}function jw(){return jw=qe(We().mark((function e(t,n,r){var i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof xm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=te(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),xd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Fw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wm?t.Wo.ct(n):n instanceof bm?t.Wo._t(n):t.Wo.ht(n),r.isEqual(Gd.min())){e.next=29;break}return e.prev=14,e.next=17,xk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(np.EMPTY_BYTE_STRING,n.snapshotVersion)),Tw(e,t);var r=new Yy(n.target,t,1,n.sequenceNumber);Ew(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),xd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Fw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jw.apply(this,arguments)}function Fw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=qe(We().mark((function e(t,n,r){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uy(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,xw(t);case 5:t.Qo.set("Offline"),r||(r=function(){return xk(t.localStore)}),t.asyncQueue.enqueueRetryable(qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,ww(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Vw(e,t){return t().catch((function(n){return Fw(e,n,t)}))}function zw(e){return Bw.apply(this,arguments)}function Bw(){return Bw=qe(We().mark((function e(t){var n,r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cd(t),r=ob(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!qw(n)){e.next=19;break}return e.prev=3,e.next=6,Sk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Kw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Fw(n,e.t0);case 17:e.next=2;break;case 19:Ww(n)&&Hw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Bw.apply(this,arguments)}function qw(e){return Aw(e)&&e.Uo.length<10}function Kw(e,t){e.Uo.push(t);var n=ob(e);n.co()&&n.bo&&n.vo(t.mutations)}function Ww(e){return Aw(e)&&!ob(e).oo()&&e.Uo.length>0}function Hw(e){ob(e).start()}function Gw(e){return Qw.apply(this,arguments)}function Qw(){return Qw=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ob(t).Do();case 1:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Yw(e){return $w.apply(this,arguments)}function $w(){return $w=qe(We().mark((function e(t){var n,r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ob(t),r=te(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Jw(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=Gy.from(i,n,r),e.next=3,Vw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zw(t);case 5:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Zw(e,t){return eb.apply(this,arguments)}function eb(){return eb=qe(We().mark((function e(t,n){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ob(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tm(i=n.code)||i===Nd.ABORTED){e.next=7;break}return r=t.Uo.shift(),ob(t).ao(),e.next=5,Vw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ww(t)&&Hw(t);case 5:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t){return nb.apply(this,arguments)}function nb(){return nb=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Cd(t)).asyncQueue.verifyOperationInProgress(),xd("RemoteStore","RemoteStore received new credentials"),i=Aw(r),r.Ko.add(3),e.next=6,xw(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,ww(r);case 12:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=qe(We().mark((function e(t,n){var r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cd(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,ww(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,xw(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e){return e.zo||(e.zo=function(e,t,n){var r=Cd(e);return r.No(),new vw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Pw.bind(null,e),vr:Dw.bind(null,e),To:Mw.bind(null,e)}),e.Go.push(function(){var t=qe(We().mark((function t(n){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Nw(e)?Cw(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Ow(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function ob(e){return e.Ho||(e.Ho=function(e,t,n){var r=Cd(e);return r.No(),new mw(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Gw.bind(null,e),vr:Zw.bind(null,e),So:Yw.bind(null,e),Vo:Jw.bind(null,e)}),e.Go.push(function(){var t=qe(We().mark((function t(n){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,zw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(xd("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var sb=function(){function e(t,n,r,i,a){X(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Od,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ee(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ad(Nd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ub(e,t){if(_d("AsyncQueue","".concat(t,": ").concat(e)),Uy(e))return new Ad(Nd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var cb=function(){function e(t){X(this,e),this.comparator=t?function(e,n){return t(e,n)||vp.comparator(e.key,n.key)}:function(e,t){return vp.comparator(e.key,t.key)},this.keyedMap=hm(),this.sortedSet=new rm(this.comparator)}return ee(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),lb=function(){function e(){X(this,e),this.Jo=new rm(vp.comparator)}return ee(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Ed():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),fb=function(){function e(t,n,r,i,a,o,s,u){X(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ee(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,cb.emptySet(n),a,r,i,!0,!1)}}]),e}(),hb=ee((function e(){X(this,e),this.Xo=void 0,this.listeners=[]})),db=ee((function e(){X(this,e),this.queries=new Zg((function(e){return vv(e)}),pv),this.onlineState="Unknown",this.Zo=new Set}));function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=qe(We().mark((function e(t,n){var r,i,a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new hb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ub(e.t0,"Initialization of query '".concat(mv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&wb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),vb.apply(this,arguments)}function mb(e,t){return yb.apply(this,arguments)}function yb(){return yb=qe(We().mark((function e(t,n){var r,i,a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e,t){var n,r=Cd(e),i=!1,a=te(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=te(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&wb(r)}function kb(e,t,n){var r=Cd(e),i=r.queries.get(t);if(i){var a,o=te(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function wb(e){e.Zo.forEach((function(e){e.next()}))}var bb=function(){function e(t,n,r){X(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return ee(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=te(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new fb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=fb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),xb=function(){function e(t,n){X(this,e),this.payload=t,this.byteLength=n}return ee(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),_b=function(){function e(t){X(this,e),this.O=t}return ee(e,[{key:"Gs",value:function(e){return jm(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?qm(this.O,e.document,!1):Rp.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Rm(e)}}]),e}(),Ib=function(){function e(t,n,r){X(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=Sb(t)}return ee(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new _b(this.O),i=te(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Gs(a.metadata.name),u=te(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||vm()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=qe(We().mark((function e(){var t,n,r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dk(this.localStore,new _b(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=te(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Mk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new dk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Eb=ee((function e(t){X(this,e),this.key=t})),Tb=ee((function e(t){X(this,e),this.key=t})),Cb=function(){function e(t,n){X(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=vm(),this.mutatedKeys=vm(),this.mc=gv(t),this.gc=new cb(this.mc)}return ee(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new lb,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=ov(this.query)&&i.size===this.query.limit?i.last():null,c=sv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.mc(f,u)>0||c&&n.mc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ov(this.query)||sv(this.query))for(;o.size>this.query.limit;){var l=ov(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:s,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ed()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],s=0===this.wc.size&&this.current?1:0,u=s!==this._c;return this._c=s,0!==a.length||u?{snapshot:new fb(this.query,e.gc,i,a,e.mutatedKeys,0===s,u,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new lb,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=vm(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Tb(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Eb(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=vm();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return fb.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Nb=ee((function e(t,n,r){X(this,e),this.query=t,this.targetId=n,this.view=r})),Ab=ee((function e(t){X(this,e),this.key=t,this.Sc=!1})),Ob=function(){function e(t,n,r,i,a,o){X(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Zg((function(e){return vv(e)}),pv),this.Nc=new Map,this.xc=new Set,this.kc=new rm(vp.comparator),this.Oc=new Map,this.Mc=new Vk,this.$c={},this.Fc=new Map,this.Bc=Vg.Je(),this.onlineState="Unknown",this.Lc=void 0}return ee(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Pb(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=qe(We().mark((function e(t,n){var r,i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sx(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Ek(r.localStore,hv(n));case 8:return s=e.sent,r.isPrimaryClient&&Iw(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Db(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Db(e,t,n,r){return Lb.apply(this,arguments)}function Lb(){return Lb=qe(We().mark((function e(t,n,r,i){var a,o,s,u,c,l;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=qe(We().mark((function e(t,n,r,i){var a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Nk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(tx(t,n.targetId,s.Pc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Nk(t.localStore,n,!0);case 3:return a=e.sent,o=new Cb(n,a.Ks),s=o.Ic(a.documents),u=km.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),tx(t,r,c.Pc),l=new Nb(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t){return jb.apply(this,arguments)}function jb(){return jb=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cd(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!pv(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Tk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Sw(r.remoteStore,i.targetId),Zb(r,i.targetId)})).catch(Wg);case 9:e.next=14;break;case 11:return Zb(r,i.targetId),e.next=14,Tk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Fb(e,t,n){return Ub.apply(this,arguments)}function Ub(){return Ub=qe(We().mark((function e(t,n,r){var i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ex(t),e.prev=1,e.next=4,function(e,t){var n,r=Cd(e),i=Hd.now(),a=t.reduce((function(e,t){return e.add(t.key)}),vm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,s=[],u=te(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Bv(c,n.get(c.key));null!=l&&s.push(new Hv(c.key,l,Pp(l.value.mapValue),jv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.gs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new rm(qd)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ix(i,a.changes);case 9:return e.next=11,zw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ub(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ub.apply(this,arguments)}function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),e.prev=1,e.next=4,_k(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Td(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Td(n.Sc):e.removedDocuments.size>0&&(Td(n.Sc),n.Sc=!1))})),e.next=8,ix(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zb.apply(this,arguments)}function Bb(e,t,n){var r=Cd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=te(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&wb(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function qb(e,t,n){return Kb.apply(this,arguments)}function Kb(){return Kb=qe(We().mark((function e(t,n,r){var i,a,o,s,u,c;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Cd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new rm(vp.comparator)).insert(o,Rp.newNoDocument(o,Gd.min())),u=vm().add(o),c=new gm(Gd.min(),new Map,new om(qd),s,u),e.next=9,Vb(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),rx(i),e.next=16;break;case 14:return e.next=16,Tk(i.localStore,n,!1).then((function(){return Zb(i,n,r)})).catch(Wg);case 16:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Wb(e,t){return Hb.apply(this,arguments)}function Hb(){return Hb=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),i=n.batch.batchId,e.prev=1,e.next=4,bk(r.localStore,n);case 4:return a=e.sent,Xb(r,i,null),Jb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ix(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Hb.apply(this,arguments)}function Gb(e,t,n){return Qb.apply(this,arguments)}function Qb(){return Qb=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cd(t),e.prev=1,e.next=4,function(e,t){var n=Cd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Td(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Xb(i,n,r),Jb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ix(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qb.apply(this,arguments)}function Yb(e,t){return $b.apply(this,arguments)}function $b(){return $b=qe(We().mark((function e(t,n){var r,i,a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aw((r=Cd(t)).remoteStore)||xd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Cd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ub(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),$b.apply(this,arguments)}function Jb(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Xb(e,t,n){var r=Cd(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Zb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=te(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||ex(e,t)}))}function ex(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Sw(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),rx(e))}function tx(e,t,n){var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Eb?(e.Mc.addReference(a.key,t),nx(e,a)):a instanceof Tb?(xd("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||ex(e,a.key)):Ed()}}catch(o){i.e(o)}finally{i.f()}}function nx(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(xd("SyncEngine","New document in limbo: "+n),e.xc.add(r),rx(e))}function rx(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new vp(Xd.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Ab(n)),e.kc=e.kc.insert(n,r),Iw(e.remoteStore,new Yy(hv(av(n.path)),r,2,Vd.A))}}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return ax=qe(We().mark((function e(t,n,r){var i,a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cd(t),a=[],o=[],s=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){s.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=vk.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Dc.To(a),e.next=9,function(){var e=qe(We().mark((function e(t,n){var r,i,a,o,s,u,c,l;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dy.forEach(n,(function(t){return Dy.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dy.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uy(e.t0)){e.next=10;break}throw e.t0;case 10:xd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=te(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ms.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return sx.apply(this,arguments)}function sx(){return sx=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Cd(t)).currentUser.isEqual(n)){e.next=11;break}return xd("SyncEngine","User change. New user:",n.toKey()),e.next=5,kk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Ad(Nd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ix(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function ux(e,t){var n=Cd(e),r=n.Oc.get(t);if(r&&r.Sc)return vm().add(r.key);var i=vm(),a=n.Nc.get(t);if(!a)return i;var o,s=te(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Cc.get(u);i=i.unionWith(c.view.yc)}}catch(l){s.e(l)}finally{s.f()}return i}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),e.next=3,Nk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&tx(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e){return hx.apply(this,arguments)}function hx(){return hx=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cd(t),e.abrupt("return",Ok(n.localStore).then((function(e){return ix(n,e)})));case 2:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e,t,n,r){return px.apply(this,arguments)}function px(){return px=qe(We().mark((function e(t,n,r,i){var a,o;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cd(t),e.next=3,function(e,t){var n=Cd(e),r=Cd(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Dy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Xb(a,n,i||null),Jb(a,n),function(e,t){Cd(Cd(e).gs).Qe(t)}(a.localStore,n)):Ed();case 11:return e.next=13,ix(a,o);case 13:e.next=16;break;case 15:xd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=qe(We().mark((function e(t,n){var r,i,a,o,s,u,c,l;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sx(r=Cd(t)),Ex(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,yx(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,rb(r.remoteStore,!0);case 9:o=te(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Iw(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Zb(r,t),Tk(r.localStore,t,!0)})),Sw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,yx(r,c);case 21:return function(e){var t=Cd(e);t.Oc.forEach((function(e,n){Sw(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new rm(vp.comparator)}(r),r.Lc=!1,e.next=25,rb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t,n){return gx.apply(this,arguments)}function gx(){return gx=qe(We().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Cd(t),a=[],o=[],s=te(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,Ek(i.localStore,hv(f[0]));case 11:l=e.sent,h=te(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,cx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ak(i.localStore,c);case 36:return y=e.sent,e.next=39,Ek(i.localStore,y);case 39:return l=e.sent,e.next=42,Db(i,kx(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),gx.apply(this,arguments)}function kx(e){return iv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wx(e){var t=Cd(e);return Cd(Cd(t.localStore).persistence).ds()}function bx(e,t,n,r){return xx.apply(this,arguments)}function xx(){return xx=qe(We().mark((function e(t,n,r,i){var a,o,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Cd(t)).Lc){e.next=5;break}xd("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Ok(a.localStore);case 11:return o=e.sent,s=gm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,ix(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Tk(a.localStore,n,!0);case 18:return Zb(a,n,i),e.abrupt("break",21);case 20:Ed();case 21:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function _x(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=qe(We().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Sx(t)).Lc){e.next=45;break}a=te(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Nc.has(s)){e.next=10;break}return xd("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ak(i.localStore,s);case 12:return u=e.sent,e.next=15,Ek(i.localStore,u);case 15:return c=e.sent,e.next=18,Db(i,kx(u),c.targetId,!1);case 18:Iw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=te(r),e.prev=30,h=We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Tk(i.localStore,t,!1).then((function(){Sw(i.remoteStore,t),Zb(i,t)})).catch(Wg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ix.apply(this,arguments)}function Sx(e){var t=Cd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ux.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qb.bind(null,t),t.Dc.To=gb.bind(null,t.eventManager),t.Dc.qc=kb.bind(null,t.eventManager),t}function Ex(e){var t=Cd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gb.bind(null,t),t}function Tx(e,t,n){var r=Cd(e);(function(){var e=qe(We().mark((function e(t,n,r){var i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Cd(e),r=Rm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Sb(i)),a=new Ib(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,ix(t,u.ws,void 0);case 30:return e.next=32,function(e,t){var n=Cd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Id("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Cx=function(){function e(){X(this,e),this.synchronizeTabs=!1}return ee(e,[{key:"initialize",value:function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=hw(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return gk(this.persistence,new mk,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Hk(Qk.bi,this.O)}},{key:"Gc",value:function(e){return new iw}},{key:"terminate",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nx=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ee(n,[{key:"initialize",value:function(){var e=qe(We().mark((function e(t){var r=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(ae(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Pk(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,Ex(this.zc.syncEngine);case 8:return e.next=10,zw(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return gk(this.persistence,new mk,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Yg(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=hk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pg.withCacheSize(this.cacheSizeBytes):Pg.DEFAULT;return new ck(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,lw(),fw(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new iw}}]),n}(Cx),Ax=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ee(n,[{key:"initialize",value:function(){var e=qe(We().mark((function e(t){var r,i=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(ae(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof rw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:dx.bind(null,r),lr:bx.bind(null,r),dr:_x.bind(null,r),ds:wx.bind(null,r),ar:fx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vx(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=lw();if(!rw.Vt(t))throw new Ad(Nd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Nx),Ox=function(){function e(){X(this,e)}return ee(e,[{key:"initialize",value:function(){var e=qe(We().mark((function e(t,n){var r=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Bb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),e.next=12,rb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new db}},{key:"createDatastore",value:function(e){var t,n=hw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cw(t));return function(e,t,n,r){return new yw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Bb(o.syncEngine,e,0)},a=ow.Vt()?new ow:new aw,new kw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ob(e,t,n,r,i,a);return o&&(s.Lc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cd(t),xd("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,xw(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return qe(We().mark((function r(){var i;return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Rx=function(){function e(t){X(this,e),this.observer=t,this.muted=!1}return ee(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Dx=function(){function e(t,n){var r=this;X(this,e),this.Yc=t,this.O=n,this.metadata=new Od,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ee(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=qe(We().mark((function e(){var t,n,r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new xb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=qe(We().mark((function e(){var t,n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=qe(We().mark((function e(){var t,n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Lx=function(){function e(t){X(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ee(e,[{key:"lookup",value:function(){var e=qe(We().mark((function e(t){var n,r=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ad(Nd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=qe(We().mark((function e(t,n){var r,i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),i=Vm(r.O)+"/documents",a={documents:n.map((function(e){return Mm(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Km(r.O,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Td(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Xv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=qe(We().mark((function e(){var t,n=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=vp.fromPath(t);n.mutations.push(new Zv(r,n.precondition(r)))})),e.next=7,function(){var e=qe(We().mark((function e(t,n){var r,i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t),i=Vm(r.O)+"/documents",a={writes:n.map((function(e){return Wm(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ed();t=Gd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ad(Nd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jv.updateTime(t):jv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Gd.min()))throw new Ad(Nd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jv.updateTime(t)}return jv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Mx=function(){function e(t,n,r,i){X(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new dw(this.asyncQueue,"transaction_retry")}return ee(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(qe(We().mark((function t(){var n,r;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Lx(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!hp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!tm(t)}return!1}}]),e}(),jx=function(){function e(t,n,r,i){var a=this;X(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gd.UNAUTHENTICATED,this.clientId=Bd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return xd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ee(e,[{key:"getConfiguration",value:function(){var e=qe(We().mark((function e(){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ad(Nd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Od;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(qe(We().mark((function n(){var r;return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ub(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Fx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),xd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,kk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t){return zx.apply(this,arguments)}function zx(){return zx=qe(We().mark((function e(t,n){var r,i;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Bx(t);case 3:return r=e.sent,xd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return tb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return tb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e){return qx.apply(this,arguments)}function qx(){return qx=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return xd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Fx(t,new Cx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Kx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=qe(We().mark((function e(t){return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return xd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Vx(t,new Ox);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Hx(e){return Bx(e).then((function(e){return e.persistence}))}function Gx(e){return Bx(e).then((function(e){return e.localStore}))}function Qx(e){return Kx(e).then((function(e){return e.remoteStore}))}function Yx(e){return Kx(e).then((function(e){return e.syncEngine}))}function $x(e){return Jx.apply(this,arguments)}function Jx(){return Jx=qe(We().mark((function e(t){var n,r;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Pb.bind(null,n.syncEngine),r.onUnlisten=Mb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Xx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function i(){return We().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rx({next:function(a){t.enqueueAndForget((function(){return mb(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Ad(Nd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Ad(Nd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bb(av(n.path),a,{includeMetadataChanges:!0,uc:!0});return pb(e,o)},i.next=3,$x(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Zx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function i(){return We().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Rx({next:function(n){t.enqueueAndForget((function(){return mb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ad(Nd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bb(n,a,{includeMetadataChanges:!0,uc:!0});return pb(e,o)},i.next=3,$x(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var e_=new Map;function t_(e,t,n){if(!n)throw new Ad(Nd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function n_(e,t,n,r){if(!0===t&&!0===r)throw new Ad(Nd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function r_(e){if(!vp.isDocumentKey(e))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function i_(e){if(vp.isDocumentKey(e))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function a_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ed()}function o_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ad(Nd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=a_(e);throw new Ad(Nd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function s_(e,t){if(t<=0)throw new Ad(Nd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var u_=function(){function e(t){var n;if(X(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ad(Nd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ad(Nd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,n_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ee(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),c_=function(){function e(t,n,r){X(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,t instanceof fp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ad(Nd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fp(e.options.projectId)}(t))}return ee(e,[{key:"app",get:function(){if(!this._app)throw new Ad(Nd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ad(Nd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rd;switch(e.type){case"gapi":var t=e.client;return Td(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ad(Nd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=e_.get(e);t&&(xd("ComponentProvider","Removing Datastore"),e_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function l_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=o_(e,c_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Id("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=gd.MOCK_USER;else{o=ge(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ad(Nd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new gd(u)}e._authCredentials=new Dd(new Pd(o,s))}}var f_=function(){function e(t,n,r){X(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ee(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new d_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),h_=function(){function e(t,n,r){X(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ee(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),d_=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,e,r,av(i)))._path=i,a.type="collection",a}return ee(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new f_(this.firestore,null,new vp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(h_);function p_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),t_("collection","path",t),e instanceof c_){var a=Xd.fromString.apply(Xd,[t].concat(r));return i_(a),new d_(e,null,a)}if(!(e instanceof f_||e instanceof d_))throw new Ad(Nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xd.fromString.apply(Xd,[t].concat(r)));return i_(o),new d_(e.firestore,null,o)}function v_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=Bd.R()),t_("doc","path",t),e instanceof c_){var a=Xd.fromString.apply(Xd,[t].concat(r));return r_(a),new f_(e,null,new vp(a))}if(!(e instanceof f_||e instanceof d_))throw new Ad(Nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xd.fromString.apply(Xd,[t].concat(r)));return r_(o),new f_(e.firestore,e instanceof d_?e.converter:null,new vp(o))}function m_(e,t){return e=Ue(e),t=Ue(t),(e instanceof f_||e instanceof d_)&&(t instanceof f_||t instanceof d_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function y_(e,t){return e=Ue(e),t=Ue(t),e instanceof h_&&t instanceof h_&&e.firestore===t.firestore&&pv(e._query,t._query)&&e.converter===t.converter}var g_=function(){function e(){var t=this;X(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new dw(this,"async_queue_retry"),this.yu=function(){var e=fw();e&&xd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=fw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return ee(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Od;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=qe(We().mark((function e(){var t=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uy(e.t0)){e.next=12;break}throw e.t0;case 12:xd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _d("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=sb.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Ed()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=qe(We().mark((function e(){var t;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=te(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=te(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function k_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=te(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var w_=function(){function e(){X(this,e),this._progressObserver={},this._taskCompletionResolver=new Od,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ee(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),b_=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new g_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ee(n,[{key:"_terminate",value:function(){return this._firestoreClient||__(this),this._firestoreClient.terminate()}}]),n}(c_);function x_(e){return e._firestoreClient||__(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function __(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new lp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function I_(e,t,n){var r=new Od;return e.asyncQueue.enqueue(qe(We().mark((function i(){return We().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fx(e,n);case 3:return i.next=5,Vx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Nd.FAILED_PRECONDITION||e.code===Nd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function S_(e){return function(e){return e.asyncQueue.enqueue(qe(We().mark((function t(){var n,r;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hx(e);case 2:return n=t.sent,t.next=5,Qx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Cd(e);return t.Ko.delete(0),ww(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(x_(e=o_(e,b_)))}function E_(e){return function(e){return e.asyncQueue.enqueue(qe(We().mark((function t(){var n,r;return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hx(e);case 2:return n=t.sent,t.next=5,Qx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cd(t)).Ko.add(0),e.next=4,xw(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(x_(e=o_(e,b_)))}function T_(e,t){var n=x_(e=o_(e,b_)),r=new w_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Dx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Px(e,t);if(e instanceof ArrayBuffer)return Px(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,hw(t));e.asyncQueue.enqueueAndForget(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Tx,t.next=3,Yx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function C_(e,t){return function(e,t){return e.asyncQueue.enqueue(qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Cd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,Gx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(x_(e=o_(e,b_)),t).then((function(t){return t?new h_(e,null,t.query):null}))}function N_(e){if(e._initialized||e._terminated)throw new Ad(Nd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var A_=function(){function e(){X(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ep(n)}return ee(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var O_=function(){function e(t){X(this,e),this._byteString=t}return ee(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(np.fromBase64String(t))}catch(t){throw new Ad(Nd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(np.fromUint8Array(t))}}]),e}(),P_=ee((function e(t){X(this,e),this._methodName=t})),R_=function(){function e(t,n){if(X(this,e),!isFinite(t)||t<-90||t>90)throw new Ad(Nd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ad(Nd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ee(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return qd(this._lat,e._lat)||qd(this._long,e._long)}}]),e}(),D_=/^__.*__$/,L_=function(){function e(t,n,r){X(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ee(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Hv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wv(e,this.data,t,this.fieldTransforms)}}]),e}(),M_=function(){function e(t,n,r){X(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ee(e,[{key:"toMutation",value:function(e,t){return new Hv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function j_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ed()}}var F_=function(){function e(t,n,r,i,a,o){X(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ee(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return iI(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(j_(this.Vu)&&D_.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),U_=function(){function e(t,n,r){X(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||hw(t)}return ee(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new F_({Vu:e,methodName:t,$u:n,path:ep.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function V_(e){var t=e._freezeSettings(),n=hw(e._databaseId);return new U_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function z_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);eI("Data must be an object, but it was:",o,r);var s,u,c=X_(r,o);if(a.merge)s=new tp(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=te(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=tI(t,d,n);if(!o.contains(p))throw new Ad(Nd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));aI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new tp(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new L_(new Op(c),s,u)}var B_=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(P_);function q_(e,t,n){return new F_({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var K_=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"_toFieldTransform",value:function(e){return new Lv(e.path,new Tv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(P_),W_=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e)).Bu=r,i}return ee(n,[{key:"_toFieldTransform",value:function(e){var t=q_(this,e,!0),n=this.Bu.map((function(e){return J_(e,t)})),r=new Cv(n);return new Lv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(P_),H_=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e)).Bu=r,i}return ee(n,[{key:"_toFieldTransform",value:function(e){var t=q_(this,e,!0),n=this.Bu.map((function(e){return J_(e,t)})),r=new Av(n);return new Lv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(P_),G_=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e)).Lu=r,i}return ee(n,[{key:"_toFieldTransform",value:function(e){var t=new Pv(e.O,xv(e.O,this.Lu));return new Lv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(P_);function Q_(e,t,n,r){var i=e.Fu(1,t,n);eI("Data must be an object, but it was:",i,r);var a=[],o=Op.empty();Yd(r,(function(e,r){var s=rI(t,e,n);r=Ue(r);var u=i.xu(s);if(r instanceof B_)a.push(s);else{var c=J_(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new tp(a);return new M_(o,s,i.fieldTransforms)}function Y_(e,t,n,r,i,a){var o=e.Fu(1,t,n),s=[tI(t,r,n)],u=[i];if(a.length%2!=0)throw new Ad(Nd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(tI(t,a[c])),u.push(a[c+1]);for(var l=[],f=Op.empty(),h=s.length-1;h>=0;--h)if(!aI(l,s[h])){var d=s[h],p=u[h];p=Ue(p);var v=o.xu(d);if(p instanceof B_)l.push(d);else{var m=J_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new tp(l);return new M_(f,y,o.fieldTransforms)}function $_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return J_(n,e.Fu(r?4:3,t))}function J_(e,t){if(Z_(e=Ue(e)))return eI("Unsupported field value:",t,e),X_(e,t);if(e instanceof P_)return function(e,t){if(!j_(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=te(e);try{for(a.s();!(n=a.n()).done;){var o=J_(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xv(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Hd.fromDate(e);return{timestampValue:Am(t.O,n)}}if(e instanceof Hd){var r=new Hd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Am(t.O,r)}}if(e instanceof R_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof O_)return{bytesValue:Om(t.O,e._byteString)};if(e instanceof f_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(a_(e)))}(e,t)}function X_(e,t){var n={};return $d(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yd(e,(function(e,r){var i=J_(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Z_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Hd||e instanceof R_||e instanceof O_||e instanceof f_||e instanceof P_)}function eI(e,t,n){if(!Z_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=a_(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function tI(e,t,n){if((t=Ue(t))instanceof A_)return t._internalPath;if("string"==typeof t)return rI(e,t);throw iI("Field path arguments must be of type string or ",e,!1,void 0,n)}var nI=new RegExp("[~\\*/\\[\\]]");function rI(e,t,n){if(t.search(nI)>=0)throw iI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return le(A_,ze(t.split(".")))._internalPath}catch(r){throw iI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function iI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ad(Nd.INVALID_ARGUMENT,s+e+u)}function aI(e,t){return e.some((function(e){return e.isEqual(t)}))}var oI=function(){function e(t,n,r,i,a){X(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ee(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new f_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sI=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"data",value:function(){return Bt(ae(n.prototype),"data",this).call(this)}}]),n}(oI);function uI(e,t){return"string"==typeof t?rI(e,t):t instanceof A_?t._internalPath:t._delegate._internalPath}var cI=function(){function e(t,n){X(this,e),this.hasPendingWrites=t,this.fromCache=n}return ee(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),lI=function(e){ie(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return X(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ee(n,[{key:"exists",value:function(){return Bt(ae(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new fI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(oI),fI=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bt(ae(n.prototype),"data",this).call(this,e)}}]),n}(lI),hI=function(){function e(t,n,r,i){X(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new cI(i.hasPendingWrites,i.fromCache),this.query=r}return ee(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new fI(n._firestore,n._userDataWriter,r.key,r,new cI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ad(Nd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new fI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new fI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function dI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ed()}}function pI(e,t){return e instanceof lI&&t instanceof lI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hI&&t instanceof hI&&e._firestore===t._firestore&&y_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function vI(e){if(sv(e)&&0===e.explicitOrderBy.length)throw new Ad(Nd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mI=ee((function e(){X(this,e)}));function yI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var gI=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return ee(n,[{key:"_apply",value:function(e){var t=V_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NI(o,a);var u,c=[],l=te(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(CI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=CI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NI(o,a),s=$_(n,"where",o,"in"===a||"not-in"===a);var h=qp.create(i,a,s);return function(e,t){if(t.S()){var n=cv(e);if(null!==n&&!n.isEqual(t.field))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=uv(e);null!==r&&AI(e,t.field,r)}var i=function(e,t){var n,r=te(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new h_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(mI);var kI=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return ee(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zp(t,n);return function(e,t){if(null===uv(e)){var n=cv(e);null!==n&&AI(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new h_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(mI);var wI=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return ee(n,[{key:"_apply",value:function(e){return new h_(e.firestore,e.converter,dv(e._query,this.ju,this.Qu))}}]),n}(mI);var bI=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return ee(n,[{key:"_apply",value:function(e){var t=TI(e,this.type,this.Wu,this.zu);return new h_(e.firestore,e.converter,function(e,t){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(mI);function xI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bI("startAt",t,!0)}function _I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bI("startAfter",t,!1)}var II=function(e){ie(n,e);var t=ce(n);function n(e,r,i){var a;return X(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return ee(n,[{key:"_apply",value:function(e){var t=TI(e,this.type,this.Wu,this.zu);return new h_(e.firestore,e.converter,function(e,t){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(mI);function SI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new II("endBefore",t,!1)}function EI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new II("endAt",t,!0)}function TI(e,t,n,r){if(n[0]=Ue(n[0]),n[0]instanceof oI)return function(e,t,n,r,i){if(!r)throw new Ad(Nd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=te(fv(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Ip(t,r.key));else{var c=r.data.field(u.field);if(sp(c))throw new Ad(Nd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Xp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=V_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ad(Nd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!lv(e)&&-1!==c.indexOf("/"))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Xd.fromString(c));if(!vp.isDocumentKey(l))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new vp(l);s.push(Ip(t,f))}else{var h=$_(n,r,c);s.push(h)}}return new Xp(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function CI(e,t,n){if("string"==typeof(n=Ue(n))){if(""===n)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lv(t)&&-1!==n.indexOf("/"))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Xd.fromString(n));if(!vp.isDocumentKey(r))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ip(e,new vp(r))}if(n instanceof f_)return Ip(e,n._key);throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(a_(n),"."))}function NI(e,t){if(!Array.isArray(e)||0===e.length)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function AI(e,t,n){if(!n.isEqual(t))throw new Ad(Nd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var OI=function(){function e(){X(this,e)}return ee(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(yp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ap(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(op(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ed()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Yd(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new R_(ap(e.latitude),ap(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=up(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ip(e);return new Hd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Xd.fromString(e);Td(iy(n));var r=new fp(n.get(1),n.get(3)),i=new vp(n.popFirst(5));return r.isEqual(t)||_d("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function PI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RI=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).firestore=e,r}return ee(n,[{key:"convertBytes",value:function(e){return new O_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new f_(this.firestore,null,t)}}]),n}(OI),DI=function(){function e(t,n){X(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=V_(t)}return ee(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=LI(e,this._firestore),i=PI(r.converter,t,n),a=z_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=LI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ue(t))||t instanceof A_?Y_(this._dataReader,"WriteBatch.update",i._key,t,n,o):Q_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=LI(e,this._firestore);return this._mutations=this._mutations.concat(new Xv(t._key,jv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ad(Nd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function LI(e,t){if((e=Ue(e)).firestore!==t)throw new Ad(Nd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var MI=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).firestore=e,r}return ee(n,[{key:"convertBytes",value:function(e){return new O_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new f_(this.firestore,null,t)}}]),n}(OI);function jI(e){e=o_(e,f_);var t=o_(e.firestore,b_),n=x_(t),r=new MI(t);return function(e,t){var n=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function r(){return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=qe(We().mark((function e(t,n,r){var i,a;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Cd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ad(Nd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ub(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Gx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new lI(t,r,e._key,n,new cI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FI(e){e=o_(e,h_);var t=o_(e.firestore,b_),n=x_(t),r=new MI(t);return function(e,t){var n=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function r(){return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=qe(We().mark((function e(t,n,r){var i,a,o,s,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nk(t,n,!0);case 3:i=e.sent,a=new Cb(n,i.Ks),o=a.Ic(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=ub(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Gx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new hI(t,r,e,n)}))}function UI(e,t,n){e=o_(e,f_);var r=o_(e.firestore,b_),i=PI(e.converter,t,n);return qI(r,[z_(V_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jv.none())])}function VI(e,t,n){e=o_(e,f_);for(var r=o_(e.firestore,b_),i=V_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return qI(r,[("string"==typeof(t=Ue(t))||t instanceof A_?Y_(i,"updateDoc",e._key,t,n,o):Q_(i,"updateDoc",e._key,t)).toMutation(e._key,jv.exists(!0))])}function zI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ue(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||k_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(k_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof f_)l=o_(e.firestore,b_),f=av(e._key.path),c={next:function(t){n[u]&&n[u](KI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=o_(e,h_);l=o_(p.firestore,b_),f=p._query;var v=new MI(l);c={next:function(e){n[u]&&n[u](new hI(l,v,p,e))},error:n[u+1],complete:n[u+2]},vI(e._query)}return function(e,t,n,r){var i=new Rx(r),a=new bb(t,i,n);return e.asyncQueue.enqueueAndForget(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pb,t.next=3,$x(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mb,t.next=3,$x(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(x_(l),f,h,c)}function BI(e,t){return function(e,t){var n=new Rx(t);return e.asyncQueue.enqueueAndForget(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cd(e).Zo.add(t),t.next()},t.next=3,$x(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(qe(We().mark((function t(){return We().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cd(e).Zo.delete(t)},t.next=3,$x(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(x_(e=o_(e,b_)),k_(t)?t:{next:t})}function qI(e,t){return function(e,t){var n=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function r(){return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Fb,r.next=3,Yx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(x_(e),t)}function KI(e,t,n){var r=n.docs.get(t._key),i=new MI(e);return new lI(e,i,t._key,r,new cI(n.hasPendingWrites,n.fromCache),t.converter)}var WI=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,r))._firestore=e,i}return ee(n,[{key:"get",value:function(e){var t=this,r=LI(e,this._firestore),i=new MI(this._firestore);return Bt(ae(n.prototype),"get",this).call(this,e).then((function(e){return new lI(t._firestore,i,r._key,e._document,new cI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){X(this,e),this._firestore=t,this._transaction=n,this._dataReader=V_(t)}return ee(e,[{key:"get",value:function(e){var t=this,n=LI(e,this._firestore),r=new RI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ed();var i=e[0];if(i.isFoundDocument())return new oI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new oI(t._firestore,r,n._key,null,n.converter);throw Ed()}))}},{key:"set",value:function(e,t,n){var r=LI(e,this._firestore),i=PI(r.converter,t,n),a=z_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=LI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ue(t))||t instanceof A_?Y_(this._dataReader,"Transaction.update",i._key,t,n,o):Q_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=LI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HI(e,t){return function(e,t){var n=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function r(){var i;return We().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Kx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Mx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(x_(e=o_(e,b_)),(function(n){return t(new WI(e,n))}))}function GI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new W_("arrayUnion",t)}function QI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new H_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kd=e}(St),mt(new He("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new b_(i,new Ld(e.getProvider("auth-internal")),new Ud(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ot(yd,"3.4.5",e),Ot(yd,"3.4.5","esm2017")}();function YI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ad("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function $I(){if("undefined"===typeof Uint8Array)throw new Ad("unimplemented","Uint8Arrays are not available in this environment.")}function JI(){if("undefined"==typeof atob)throw new Ad("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XI=function(){function e(t){X(this,e),this._delegate=t}return ee(e,[{key:"toBase64",value:function(){return JI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return $I(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return JI(),new e(O_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return $I(),new e(O_.fromUint8Array(t))}}]),e}();function ZI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=te(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eS=function(){function e(){X(this,e)}return ee(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){N_(e=o_(e,b_));var n=x_(e),r=e._freezeSettings(),i=new Ox;return I_(n,i,new Nx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){N_(e=o_(e,b_));var t=x_(e),n=e._freezeSettings(),r=new Ox;return I_(t,r,new Ax(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ad(Nd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Od;return e._queue.enqueueAndForgetEvenWhileRestricted(qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=qe(We().mark((function e(t){var n;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(My.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,My.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(hk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tS=function(){function e(t,n,r){var i=this;X(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fp||(this._appCompat=t)}return ee(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Id("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return S_(this._delegate)}},{key:"disableNetwork",value:function(){return E_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&n_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Od;return e.asyncQueue.enqueueAndForget(qe(We().mark((function n(){return We().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Yb,n.next=3,Yx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(x_(e=o_(e,b_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return BI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ad("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vS(this,p_(this._delegate,e))}catch(t){throw sS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oS(this,v_(this._delegate,e))}catch(t){throw sS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hS(this,function(e,t){if(e=o_(e,c_),t_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ad(Nd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new h_(e,null,function(e){return new rv(Xd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return HI(this._delegate,(function(n){return e(new rS(t,n))}))}},{key:"batch",value:function(){var e=this;return x_(this._delegate),new iS(new DI(this._delegate,(function(t){return qI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return T_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return C_(this._delegate,e).then((function(e){return e?new hS(t,e):null}))}}]),e}(),nS=function(e){ie(n,e);var t=ce(n);function n(e){var r;return X(this,n),(r=t.call(this)).firestore=e,r}return ee(n,[{key:"convertBytes",value:function(e){return new XI(new O_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oS.forKey(t,this.firestore,null)}}]),n}(OI);var rS=function(){function e(t,n){X(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nS(t)}return ee(e,[{key:"get",value:function(e){var t=this,n=mS(e);return this._delegate.get(n).then((function(e){return new lS(t._firestore,new lI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mS(e);return n?(YI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mS(e);return this._delegate.delete(t),this}}]),e}(),iS=function(){function e(t){X(this,e),this._delegate=t}return ee(e,[{key:"set",value:function(e,t,n){var r=mS(e);return n?(YI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aS=function(){function e(t,n,r){X(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ee(e,[{key:"fromFirestore",value:function(e,t){var n=new fI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nS(t),n),i.set(n,a)),a}}]),e}();aS.INSTANCES=new WeakMap;var oS=function(){function e(t,n){X(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nS(t)}return ee(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vS(this.firestore,p_(this._delegate,e))}catch(t){throw sS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ue(e))instanceof f_&&m_(this._delegate,e)}},{key:"set",value:function(e,t){t=YI("DocumentReference.set",t);try{return t?UI(this._delegate,e,t):UI(this._delegate,e)}catch(n){throw sS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?VI(this._delegate,e):VI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return qI(o_(e.firestore,b_),[new Xv(e._key,jv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uS(n),a=cS(n,(function(t){return new lS(e.firestore,new lI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=o_(e,f_);var t=o_(e.firestore,b_);return Xx(x_(t),e._key,{source:"server"}).then((function(n){return KI(t,e,n)}))}(this._delegate):function(e){e=o_(e,f_);var t=o_(e.firestore,b_);return Xx(x_(t),e._key).then((function(n){return KI(t,e,n)}))}(this._delegate),t.then((function(e){return new lS(n.firestore,new lI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ad("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new f_(n._delegate,r,new vp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new f_(n._delegate,r,t))}}]),e}();function sS(e,t,n){return e.message=e.message.replace(t,n),e}function uS(e){var t,n=te(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ZI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ZI(e[0])?e[0]:ZI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lS=function(){function e(t,n){X(this,e),this._firestore=t,this._delegate=n}return ee(e,[{key:"ref",get:function(){return new oS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return pI(this._delegate,e._delegate)}}]),e}(),fS=function(e){ie(n,e);var t=ce(n);function n(){return X(this,n),t.apply(this,arguments)}return ee(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ed()}(void 0!==t),t}}]),n}(lS),hS=function(){function e(t,n){X(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nS(t)}return ee(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,yI(this._delegate,function(e,t,n){var r=t,i=uI("where",e);return new gI(i,r,n)}(t,n,r)))}catch(i){throw sS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,yI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uI("orderBy",e);return new kI(n,t)}(t,n)))}catch(r){throw sS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,yI(this._delegate,function(e){return s_("limit",e),new wI("limit",e,"F")}(t)))}catch(n){throw sS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,yI(this._delegate,function(e){return s_("limitToLast",e),new wI("limitToLast",e,"L")}(t)))}catch(n){throw sS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,yI(this._delegate,xI.apply(void 0,arguments)))}catch(t){throw sS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,yI(this._delegate,_I.apply(void 0,arguments)))}catch(t){throw sS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,yI(this._delegate,SI.apply(void 0,arguments)))}catch(t){throw sS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,yI(this._delegate,EI.apply(void 0,arguments)))}catch(t){throw sS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return y_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=o_(e,h_);var t=o_(e.firestore,b_),n=x_(t),r=new MI(t);return Zx(n,e._query,{source:"server"}).then((function(n){return new hI(t,r,e,n)}))}(this._delegate):function(e){e=o_(e,h_);var t=o_(e.firestore,b_),n=x_(t),r=new MI(t);return vI(e._query),Zx(n,e._query).then((function(n){return new hI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new pS(n.firestore,new hI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uS(n),a=cS(n,(function(t){return new pS(e.firestore,new hI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dS=function(){function e(t,n){X(this,e),this._firestore=t,this._delegate=n}return ee(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new fS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pS=function(){function e(t,n){X(this,e),this._firestore=t,this._delegate=n}return ee(e,[{key:"query",get:function(){return new hS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new fS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new fS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return pI(this._delegate,e._delegate)}}]),e}(),vS=function(e){ie(n,e);var t=ce(n);function n(e,r){var i;return X(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ee(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oS(this.firestore,void 0===e?v_(this._delegate):v_(this._delegate,e))}catch(t){throw sS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=o_(e.firestore,b_),r=v_(e),i=PI(e.converter,t);return qI(n,[z_(V_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return m_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hS);function mS(e){return o_(e,f_)}var yS=function(){function e(){X(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=le(A_,n)}return ee(e,[{key:"isEqual",value:function(e){return(e=Ue(e))instanceof A_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ep.keyField().canonicalString())}}]),e}(),gS=function(){function e(t){X(this,e),this._delegate=t}return ee(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new K_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new B_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new G_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kS={Firestore:tS,GeoPoint:R_,Timestamp:Hd,Blob:XI,Transaction:rS,WriteBatch:iS,DocumentReference:oS,DocumentSnapshot:lS,Query:hS,QueryDocumentSnapshot:fS,QuerySnapshot:pS,CollectionReference:vS,FieldPath:yS,FieldValue:gS,setLogLevel:function(e){!function(e){wd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new He("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kS)))}(e,(function(e,t){return new tS(e,t,new eS)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(Vt);var wS=Vt.initializeApp({apiKey:"AIzaSyBPjiSn-SYtoQZXRtjCCAltAW0yYioB6VU",authDomain:"challenge-cbf44.firebaseapp.com",projectId:"challenge-cbf44",storageBucket:"challenge-cbf44.appspot.com",messagingSenderId:"438377452792",appId:"1:438377452792:web:da322aadcb1203656a570d",measurementId:"G-2VPXVBSFLR"}),bS=(wS.firestore(),wS.auth()),xS=n(184),_S=(0,t.createContext)(),IS=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,xS.jsx)(_S.Provider,{value:(0,t.useReducer)(n,r),children:i})},SS=function(){return(0,t.useContext)(_S)};var ES=function(){var e=u(SS(),2),t=e[0],n=t.basket,r=t.user;return e[1],(0,xS.jsxs)("header",{className:"header_header",children:[(0,xS.jsx)($,{to:"/",id:"nav-top"}),(0,xS.jsxs)("div",{id:"nav-belt",children:[(0,xS.jsx)("div",{className:"nav-left",children:(0,xS.jsxs)("div",{id:"nav-logo",children:[(0,xS.jsx)($,{to:"/",className:"nav-logo-link"}),(0,xS.jsx)($,{to:"/",className:"nav-logo-tagline",children:"Try Prime"})]})}),(0,xS.jsx)("div",{className:"nav-right",children:(0,xS.jsx)("div",{id:"nav-holiday",children:(0,xS.jsx)($,{to:"/"})})}),(0,xS.jsx)("div",{className:"nav-fill",children:(0,xS.jsx)("div",{id:"nav-search",children:(0,xS.jsxs)("form",{children:[(0,xS.jsxs)("div",{className:"nav-left",children:[(0,xS.jsx)("span",{className:"nav-search-label",children:"All"}),(0,xS.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"}),(0,xS.jsxs)("select",{id:"nav-search-select",children:[(0,xS.jsx)("option",{defaultValue:"selected",value:"aps",children:"All Departments"}),(0,xS.jsx)("option",{value:"alexa-skills",children:"Alexa Skills"}),(0,xS.jsx)("option",{value:"instant-video",children:"Amazon Video"}),(0,xS.jsx)("option",{value:"warehouse-deals",children:"Amazon Warehouse Deals"}),(0,xS.jsx)("option",{value:"appliances",children:"Appliances"}),(0,xS.jsx)("option",{value:"mobile-apps",children:"Apps & Games"}),(0,xS.jsx)("option",{value:"arts-crafts",children:"Arts, Crafts & Sewing"}),(0,xS.jsx)("option",{value:"automotive",children:"Automotive Parts & Accessories"}),(0,xS.jsx)("option",{value:"baby-products",children:"Baby"}),(0,xS.jsx)("option",{value:"beauty",children:"Beauty & Personal Care"}),(0,xS.jsx)("option",{value:"stripbooks",children:"Books"}),(0,xS.jsx)("option",{value:"popular",children:"CDs & Vinyl"}),(0,xS.jsx)("option",{value:"mobile",children:"Cell Phones & Accessories"}),(0,xS.jsx)("option",{value:"fashion",children:"Clothing, Shoes & Jewelry"}),(0,xS.jsx)("option",{value:"fashion-womens",children:"\xa0\xa0\xa0Women"}),(0,xS.jsx)("option",{value:"fashion-mens",children:"\xa0\xa0\xa0Men"}),(0,xS.jsx)("option",{value:"fashion-girls",children:"\xa0\xa0\xa0Girls"}),(0,xS.jsx)("option",{value:"fashion-boys",children:"\xa0\xa0\xa0Boys"}),(0,xS.jsx)("option",{value:"fashion-baby",children:"\xa0\xa0\xa0Baby"}),(0,xS.jsx)("option",{value:"collectibles",children:"Collectibles & Fine Art"}),(0,xS.jsx)("option",{value:"computers",children:"Computers"}),(0,xS.jsx)("option",{value:"courses",children:"Courses"}),(0,xS.jsx)("option",{value:"financial",children:"Credit and Payment Cards"}),(0,xS.jsx)("option",{value:"digital-music",children:"Digital Music"}),(0,xS.jsx)("option",{value:"electronics",children:"Electronics"}),(0,xS.jsx)("option",{value:"gift-cards",children:"Gift Cards"}),(0,xS.jsx)("option",{value:"grocery",children:"Grocery & Gourmet Food"}),(0,xS.jsx)("option",{value:"handmade",children:"Handmade"}),(0,xS.jsx)("option",{value:"hpc",children:"Health, Household & Baby Care"}),(0,xS.jsx)("option",{value:"local-services",children:"Home & Business Services"}),(0,xS.jsx)("option",{value:"garden",children:"Home & Kitchen"}),(0,xS.jsx)("option",{value:"industrial",children:"Industrial & Scientific"}),(0,xS.jsx)("option",{value:"digital-text",children:"Kindle Store"}),(0,xS.jsx)("option",{value:"fashion-luggage",children:"Luggage & Travel Gear"}),(0,xS.jsx)("option",{value:"luxury-beauty",children:"Luxury Beauty"}),(0,xS.jsx)("option",{value:"magazines",children:"Magazine Subscriptions"}),(0,xS.jsx)("option",{value:"movies-tv",children:"Movies & TV"}),(0,xS.jsx)("option",{value:"mi",children:"Musical Instruments"}),(0,xS.jsx)("option",{value:"office-products",children:"Office Products"}),(0,xS.jsx)("option",{value:"lawngarden",children:"Patio, Lawn & Garden"}),(0,xS.jsx)("option",{value:"pets",children:"Pet Supplies"}),(0,xS.jsx)("option",{value:"prime-exclusive",children:"Prime Exclusive"}),(0,xS.jsx)("option",{value:"pantry",children:"Prime Pantry"}),(0,xS.jsx)("option",{value:"software",children:"Software"}),(0,xS.jsx)("option",{value:"sporting",children:"Sports & Outdoors"}),(0,xS.jsx)("option",{value:"tools",children:"Tools & Home Improvement"}),(0,xS.jsx)("option",{value:"toys-and-games",children:"Toys & Games"}),(0,xS.jsx)("option",{value:"vehicles",children:"Vehicles"}),(0,xS.jsx)("option",{value:"videogames",children:"Video Games"}),(0,xS.jsx)("option",{value:"wine",children:"Wine"})]})]}),(0,xS.jsxs)("div",{className:"nav-right",children:[(0,xS.jsx)("i",{className:"fa fa-search","aria-hidden":"true"}),(0,xS.jsx)("input",{type:"submit"})]}),(0,xS.jsx)("div",{className:"nav-fill",children:(0,xS.jsx)("input",{type:"text",autoComplete:"off"})})]})})})]}),(0,xS.jsxs)("nav",{id:"nav-main",children:[(0,xS.jsx)("div",{className:"nav-left",children:(0,xS.jsx)("div",{className:"nav-shop",children:(0,xS.jsxs)($,{className:"nav-a",to:"/",children:["Departments",(0,xS.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]})})}),(0,xS.jsxs)("div",{className:"nav-right",children:[(0,xS.jsxs)($,{className:"nav-a",to:"/",children:[(0,xS.jsx)("span",{children:"EN"}),(0,xS.jsx)("i",{className:"fa fa-globe","aria-hidden":"true"}),(0,xS.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,xS.jsxs)($,{onClick:function(){r&&bS.signOut()},className:"nav-a",to:!r&&"/login",children:[(0,xS.jsxs)("span",{children:["Hello ",r?null===r||void 0===r?void 0:r.email:"Guest"]}),r?(0,xS.jsx)("strong",{children:"Sign out"}):(0,xS.jsx)("strong",{children:"Sign in"}),(0,xS.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,xS.jsx)($,{className:"nav-a",to:"/",children:"Orders"}),(0,xS.jsxs)($,{className:"nav-a",to:"/",children:["Try Prime",(0,xS.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})]}),(0,xS.jsxs)($,{className:"nav-a cart",to:"/checkout",children:[(0,xS.jsx)("span",{children:null===n||void 0===n?void 0:n.length}),"Cart"]})]}),(0,xS.jsx)("div",{className:"nav-fill",children:(0,xS.jsxs)("ul",{children:[(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Your Amazon.com"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Today's Deals"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Gift Cards & Registry"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Help"})})]})})]})]})};var TS=function(e){var t=e.id,n=e.title,r=e.price,i=e.image,a=e.rating,o=u(SS(),2),s=(o[0].basket,o[1]);return(0,xS.jsx)("div",{className:"row",children:(0,xS.jsxs)("div",{className:"checkoutProduct row bg-white px-5 py-3 d-flex align-items-center",children:[(0,xS.jsx)("div",{className:"col-12 col-md-3",children:(0,xS.jsx)("img",{className:"checkoutProduct_image img-thumbnail",src:i,alt:n})}),(0,xS.jsxs)("div",{className:"checkoutProduct_info col-12 col-md-9",style:{paddingLeft:"30px"},children:[(0,xS.jsx)("h4",{className:"checkoutProduct_title",children:n}),(0,xS.jsxs)("h5",{className:"checkoutProduct_price",children:[(0,xS.jsx)("small",{children:"$"}),(0,xS.jsx)("strong",{children:r})]}),(0,xS.jsx)("div",{className:"checkoutProduct_rating d-flex",children:(0,xS.jsx)("p",{className:"d-flex",children:Array(a).fill().map((function(e,t){return(0,xS.jsx)("p",{children:"\u2b50"},t)}))})}),(0,xS.jsx)("button",{className:"btn",onClick:function(){s({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from basket"})]})]})})},CS=n(482),NS=n.n(CS);var AS=function(){for(var e=u(SS(),2),t=e[0].basket,n=(e[1],0),r=0;r<t.length;r++)n+=t[r].price;return(0,xS.jsxs)("div",{class:"subtotal",children:[(0,xS.jsx)(NS(),{renderText:function(e){return(0,xS.jsxs)(xS.Fragment,{children:[(0,xS.jsxs)("p",{children:["Subtotal (",null===t||void 0===t?void 0:t.length," items): ",(0,xS.jsxs)("strong",{children:["$",n]})]}),(0,xS.jsxs)("small",{class:"subtotal_gift",children:[(0,xS.jsx)("input",{type:"checkbox"})," This order contains a gift"]}),(0,xS.jsx)("br",{})]})},decimalScale:2,value:0,displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,xS.jsx)("button",{className:"btn",children:"Proceed to Checkout"})]})};var OS=function(){var e=u(SS(),2),t=e[0],n=t.basket,r=t.user;return e[1],(0,xS.jsxs)("div",{className:"checkout carousel__carousel container-fluid mt-4",children:[(0,xS.jsxs)("div",{className:"row container-fluid p-0",children:[(0,xS.jsx)("div",{className:"col-12 col-md-9 p-0",children:(0,xS.jsx)("img",{src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:"banner"})}),(0,xS.jsx)("div",{className:"col-12 col-md-3",children:(0,xS.jsx)(AS,{})})]}),(0,xS.jsxs)("div",{className:"row",children:[(0,xS.jsx)("h1",{className:"checkout-title",children:(0,xS.jsxs)("strong",{children:["Hey, ",r?r.email:null]})}),(0,xS.jsx)("h2",{className:"checkout_title",style:{marginLeft:"10px"},children:"Your shopping basket"})," ",(0,xS.jsx)("hr",{})]}),n.map((function(e){return(0,xS.jsx)(TS,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})},PS=n(197),RS=n(131),DS=n(451),LS=n(66),MS=n(530),jS=n(978),FS=n(619),US=n(610);var VS=function(){return(0,xS.jsxs)(PS.lr,{className:"carousel__carousel",children:[(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:RS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 1"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:DS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 2"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:LS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 3"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:MS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 1"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:jS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 2"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:FS}),(0,xS.jsx)("p",{className:"legend",children:"Legend 3"})]}),(0,xS.jsxs)("div",{children:[(0,xS.jsx)("img",{src:US}),(0,xS.jsx)("p",{className:"legend",children:"Legend 3"})]})]})};var zS=function(e){var t=e.id,n=e.title,r=e.image,i=e.price,a=e.rating,o=e.responsive,s=u(SS(),2),c=(s[0].basket,s[1]);return(0,xS.jsx)("div",{className:o,children:(0,xS.jsxs)("div",{className:"Cards__main p-3 px-5 bg-white",children:[(0,xS.jsx)("h2",{className:"title m-0",children:n}),(0,xS.jsxs)("h2",{className:"price m-0",children:["$",(0,xS.jsx)("span",{className:"font-weight-bold",children:i})]}),(0,xS.jsx)("h5",{className:"stars d-flex",children:Array(a).fill().map((function(e,t){return(0,xS.jsx)("p",{children:"\u2b50"},t)}))}),(0,xS.jsx)("div",{className:"mx-auto d-flex justify-content-center",children:(0,xS.jsx)("img",{src:r,className:"img-thumbnail my-3 card__image",alt:n})}),(0,xS.jsx)("div",{className:"mx-auto d-flex justify-content-center my-1",children:(0,xS.jsx)("button",{className:"btn",onClick:function(){c({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:i,rating:a}})},children:"Add To Basket"})})]})})};var BS=function(){return(0,xS.jsxs)(xS.Fragment,{children:[(0,xS.jsx)("div",{className:"carousel__carousel",children:(0,xS.jsx)(VS,{})}),(0,xS.jsxs)("div",{className:"Shoping__Cards",children:[(0,xS.jsxs)("div",{className:"row",children:[(0,xS.jsx)(zS,{id:"1233",title:"The Lean Startup",image:"https://images-na.ssl-images-amazon.com/images/I/51aoe6r1ibL._SX323_BO1,204,203,200_.jpg",rating:5,price:29.99,responsive:"col-12 col-md-6 p-3"}),(0,xS.jsx)(zS,{id:"1133",title:"Against the Gods",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/1.jpg",rating:3,price:28.99,responsive:"col-12 col-md-6 p-3"})]}),(0,xS.jsxs)("div",{className:"row",children:[(0,xS.jsx)(zS,{id:"1233",title:"Atlas Shrugged",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/2.jpg",rating:5,price:10.99,responsive:"col-12 col-md-4 p-3"}),(0,xS.jsx)(zS,{id:"1333",title:"Benjamin Franklin An American Life",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/3.jpg",rating:4,price:20.99,responsive:"col-12 col-md-4 p-3"}),(0,xS.jsx)(zS,{id:"1433",title:"Children of Dune",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/4.jpg",rating:5,price:17.99,responsive:"col-12 col-md-4 p-3"})]}),(0,xS.jsxs)("div",{className:"row",children:[(0,xS.jsx)(zS,{id:"1533",title:"Daemon",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/5.jpg",rating:5,price:15.99,responsive:"col-12 col-md-4 p-3"}),(0,xS.jsx)(zS,{id:"1633",title:"If the Universe Is Teeming with Aliens",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/6.jpg",rating:5,price:20.99,responsive:"col-12 col-md-4 p-3"}),(0,xS.jsx)(zS,{id:"1733",title:"Ignition",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/7.jpg",rating:2,price:21.99,responsive:"col-12 col-md-4 p-3"})]}),(0,xS.jsx)("div",{className:"row",children:(0,xS.jsx)(zS,{id:"1833",title:"Kapital Vol I",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/8.jpg",rating:5,price:9.99,responsive:"col-12 col-md-12 p-3"})}),(0,xS.jsxs)("div",{className:"row",children:[(0,xS.jsx)(zS,{id:"1933",title:"Merchants of Doubt",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/9.jpg",rating:5,price:34.99,responsive:"col-12 col-md-3 p-3"}),(0,xS.jsx)(zS,{id:"1033",title:"Screw Business as Usual",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/10.jpg",rating:5,price:16.99,responsive:"col-12 col-md-3 p-3"}),(0,xS.jsx)(zS,{id:"1213",title:"Superintelligence_Paths Dangers Strategies",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/11.jpg",rating:5,price:11.99,responsive:"col-12 col-md-3 p-3"}),(0,xS.jsx)(zS,{id:"1223",title:"The Ultimate Hitchhiker's Guide to the Galaxy",image:"https://notes.a2nitr.in/assets/Book/Recommended/elon%20musk/14.jpg",rating:4,price:19.99,responsive:"col-12 col-md-3 p-3"})]})]})]})};var qS=function(){return(0,xS.jsx)("footer",{children:(0,xS.jsxs)("div",{className:"middle mt-5",children:[(0,xS.jsxs)("div",{className:"center",children:[(0,xS.jsxs)("ul",{children:[(0,xS.jsx)("li",{children:(0,xS.jsx)("h6",{children:"Get to Know Us"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Careers"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"About Amazon"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Investor Relations"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon Devices"})})]}),(0,xS.jsxs)("ul",{children:[(0,xS.jsx)("li",{children:(0,xS.jsx)("h6",{children:"Make Money with Us"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell on Amazon"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell Your Services on Amazon"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell on Amazon Business"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell Your Apps on Amazon"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Become an Affiliate"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Advertise Your Products"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Self-Publish with Us"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Become an Amazon Vendor"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Sell Your Subscription on Amazon"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"\u203a See all"})})]}),(0,xS.jsxs)("ul",{children:[(0,xS.jsx)("li",{children:(0,xS.jsx)("h6",{children:"Amazon Payment Products"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon Rewards Visa Signature Cards"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon.com Store Card"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon.com Corporate Credit Line"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Shop with Points"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Credit Card Marketplace"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Reload Your Balance"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon Currency Converter"})})]}),(0,xS.jsxs)("ul",{children:[(0,xS.jsx)("li",{children:(0,xS.jsx)("h6",{children:"Let Us Help You"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Your Account"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Your Orders"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Shipping Rates & Policies"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon Prime"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Returns & Replacements"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Manage Your Content and Devices"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Amazon Assistant"})}),(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",children:"Help"})})]})]}),(0,xS.jsxs)("ul",{className:"copy text-center",children:[(0,xS.jsx)("li",{children:(0,xS.jsx)($,{to:"/",className:"logo"})}),(0,xS.jsx)("li",{children:(0,xS.jsxs)($,{to:"/",className:"select",children:[(0,xS.jsx)("i",{className:"fa fa-globe","aria-hidden":"true"})," English"]})}),(0,xS.jsx)("li",{children:(0,xS.jsxs)($,{to:"/",className:"select",children:[(0,xS.jsx)("i",{className:"flag-icon-us"}),"United States"]})})]}),(0,xS.jsxs)("h6",{className:"text-white text-center d-flex justify-content-center p-2",children:["Amazon Clone | Made with \u2764\ufe0f by",(0,xS.jsx)("a",{className:"text-decoration-none p-1",href:"https://github.com/Mohammad-Sahil",children:"Mohammad Sahil"})]})]})})};var KS=function(){var e=N(),n=u((0,t.useState)(" "),2),r=n[0],i=n[1],a=u((0,t.useState)(""),2),o=a[0],s=a[1],c=function(t){t.preventDefault(),bS.signInWithEmailAndPassword(r,o).then((function(t){e("/")})).catch((function(e){return alert(e.message)}))};return(0,xS.jsxs)("div",{className:"carousel__carousel",children:[(0,xS.jsx)("div",{children:(0,xS.jsx)("div",{className:"d-flex flex-row justify-content-center",children:(0,xS.jsx)("div",{className:"row",children:(0,xS.jsx)("div",{className:"col-md",children:(0,xS.jsx)("img",{className:"img_1 mt-5 mb-3",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/905px-Amazon_logo.svg.png",alt:"Amazon Logo"})})})})}),(0,xS.jsx)("div",{className:"d-flex flex-row justify-content-center",children:(0,xS.jsx)("div",{className:"row",children:(0,xS.jsx)("div",{className:"col-md",children:(0,xS.jsxs)("div",{className:"form__login",children:[(0,xS.jsx)("div",{className:"sign-in text-center my-3",children:"Sign In"}),(0,xS.jsxs)("form",{onSubmit:c,children:[(0,xS.jsxs)("div",{className:"form-group",children:[(0,xS.jsx)("label",{className:"my-1 mt-3",id:"words_1",htmlFor:"exampleInputEmail1",children:"Email(phone for mobile accounts)"}),(0,xS.jsx)("input",{onChange:function(e){return i(e.target.value)},value:r,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",required:!0}),(0,xS.jsx)("small",{id:"emailHelp",className:"form-text text-muted"})]}),(0,xS.jsxs)("div",{className:"form-group",children:[(0,xS.jsx)("label",{className:"my-1 mt-3",id:"words_1",htmlFor:"exampleInputEmail1",children:"Password"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0",(0,xS.jsx)("label",{className:"aaaa",id:"words_2",htmlFor:"exampleInputPassword1",children:"Password  Forgot your password? "}),(0,xS.jsx)("input",{onChange:function(e){return s(e.target.value)},value:o,type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",required:!0}),(0,xS.jsx)("div",{className:"form-group",children:(0,xS.jsx)("button",{onClick:c,type:"submit",className:"btn btn-warning",id:"sign-in",children:"Sign In"})})]})]}),(0,xS.jsxs)("div",{className:"d-flex",children:[(0,xS.jsx)("input",{type:"checkbox",className:"form-check-input checkbox",id:"exampleCheck1",defaultChecked:!0}),(0,xS.jsx)("p",{className:"keep-sign-in",children:"Keep me signed in."})]}),(0,xS.jsx)("button",{onClick:function(t){t.preventDefault(),bS.createUserWithEmailAndPassword(r,o).then((function(t){console.log(t),t&&e("/")})).catch((function(e){return alert(e.message)}))},type:"button",style:{background:"#d3d3d3"},className:"btn btn-warning",id:"grey-button",children:"Create your Amazon account"})]})})})})]})};var WS=function(){var e=u(SS(),2),n=(e[0].basket,e[1]);return(0,t.useEffect)((function(){bS.onAuthStateChanged((function(e){console.log("THE USER IS >>>",e),n(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,xS.jsxs)("div",{children:[(0,xS.jsx)(ES,{}),(0,xS.jsxs)(S,{children:[(0,xS.jsx)(_,{exact:"true",path:"/",element:(0,xS.jsx)(BS,{})}),(0,xS.jsx)(_,{exact:"true",path:"/checkout",element:(0,xS.jsx)(OS,{})}),(0,xS.jsx)(_,{exact:"true",path:"/login",element:(0,xS.jsx)(KS,{})})]}),(0,xS.jsx)(qS,{})]})},HS=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YS=function(e,t){switch(t.type){case"ADD_TO_BASKET":return QS(QS({},e),{},{basket:[].concat(ze(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=ze(e.basket);return n>=0?r.splice(n,1):console.warn("cannot remove this item (id: ".concat(t.id,") as it's not in basket")),QS(QS({},e),{},{basket:r});case"SET_USER":return QS(QS({},e),{},{user:t.user});default:return e}};r.render((0,xS.jsx)(Y,{children:(0,xS.jsx)(IS,{initialState:{basket:[],user:null},reducer:YS,children:(0,xS.jsx)(WS,{})})}),document.getElementById("root")),HS()}()}();
//# sourceMappingURL=main.c53f5d61.js.map